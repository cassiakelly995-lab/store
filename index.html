<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PROMPTUS Store ‚Äî Prompts Profissionais</title>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,700;0,900;1,400;1,700&family=DM+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <style>
        :root {
            --bg: #030305; --card: #0a0a10; --card2: #0f0f18;
            --gold: #bf953f; --gold-light: #fcf6ba;
            --gold-grad: linear-gradient(135deg, #bf953f 0%, #fcf6ba 50%, #b38728 100%);
            --border: rgba(191,149,63,0.14); --border-h: rgba(191,149,63,0.4);
            --text: #f0ede8; --sub: rgba(240,237,232,0.45); --accent: rgba(191,149,63,0.07);
            --green: #27ae60; --red: #e74c3c;
        }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        html { scroll-behavior: smooth; }
        body { background: var(--bg); color: var(--text); font-family: 'DM Sans', sans-serif; min-height: 100vh; overflow-x: hidden; }
        body::before { content: ''; position: fixed; inset: 0; background: radial-gradient(ellipse 70% 50% at 50% -10%, rgba(191,149,63,0.05) 0%, transparent 60%); pointer-events: none; z-index: 0; }

        .page { display: none; min-height: 100vh; position: relative; z-index: 1; }
        .page.ativa { display: block; }

        .navbar { display: flex; align-items: center; justify-content: space-between; padding: 18px 48px; border-bottom: 1px solid var(--border); background: rgba(3,3,5,0.9); backdrop-filter: blur(20px); position: sticky; top: 0; z-index: 200; flex-wrap: wrap; gap: 12px; }
        .nav-logo { font-family: 'Cormorant Garamond', serif; font-size: 26px; font-weight: 900; background: var(--gold-grad); -webkit-background-clip: text; -webkit-text-fill-color: transparent; cursor: pointer; }
        .nav-logo span { font-size: 11px; font-family: 'DM Sans', sans-serif; font-weight: 600; letter-spacing: 3px; color: var(--sub); -webkit-text-fill-color: var(--sub); }
        .nav-right { display: flex; align-items: center; gap: 14px; flex-wrap: wrap; }
        .nav-btn { background: none; border: 1px solid var(--border); color: var(--sub); padding: 8px 18px; border-radius: 3px; font-family: 'DM Sans', sans-serif; font-size: 11px; font-weight: 600; letter-spacing: 1px; cursor: pointer; transition: 0.3s; text-transform: uppercase; }
        .nav-btn:hover { border-color: var(--gold); color: var(--gold); }
        .nav-btn.gold { background: var(--gold-grad); color: #000; border-color: transparent; }

        .hero { padding: 80px 48px 60px; max-width: 1160px; margin: 0 auto; text-align: center; }
        .hero-kicker { font-size: 9px; font-weight: 700; letter-spacing: 6px; color: var(--gold); text-transform: uppercase; margin-bottom: 18px; }
        .hero-titulo { font-family: 'Cormorant Garamond', serif; font-size: clamp(38px, 6vw, 72px); font-weight: 900; line-height: 1.1; margin-bottom: 18px; }
        .hero-titulo em { font-style: italic; background: var(--gold-grad); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .hero-sub { font-size: 15px; color: var(--sub); max-width: 520px; margin: 0 auto 14px; line-height: 1.8; }
        .hero-badge { display: inline-flex; align-items: center; gap: 8px; background: rgba(39,174,96,0.1); border: 1px solid rgba(39,174,96,0.25); border-radius: 20px; padding: 6px 16px; font-size: 10px; font-weight: 700; color: var(--green); letter-spacing: 2px; text-transform: uppercase; margin-top: 12px; }

        .filtros-wrap { max-width: 1160px; margin: 0 auto; padding: 0 48px 30px; display: flex; gap: 8px; flex-wrap: wrap; }
        .filtro { background: var(--card); border: 1px solid var(--border); border-radius: 30px; padding: 8px 18px; font-size: 11px; font-weight: 600; color: var(--sub); cursor: pointer; transition: 0.3s; text-transform: uppercase; letter-spacing: 1px; }
        .filtro:hover { border-color: var(--gold); color: var(--gold); }
        .filtro.ativo { background: var(--gold-grad); color: #000; border-color: transparent; }

        .busca-wrap { max-width: 1160px; margin: 0 auto; padding: 0 48px 24px; }
        .busca { width: 100%; background: var(--card); border: 1px solid var(--border); border-radius: 4px; padding: 14px 20px; color: var(--text); font-family: 'DM Sans', sans-serif; font-size: 14px; outline: none; transition: 0.3s; }
        .busca::placeholder { color: var(--sub); }
        .busca:focus { border-color: var(--gold); }

        .grid-section { max-width: 1160px; margin: 0 auto; padding: 0 48px 80px; }
        .grid-label { font-size: 9px; font-weight: 700; letter-spacing: 4px; color: var(--gold); text-transform: uppercase; margin-bottom: 20px; display: flex; align-items: center; gap: 12px; }
        .grid-label::after { content: ''; flex: 1; height: 1px; background: var(--border); }
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 16px; }

        .pcard { background: var(--card); border: 1px solid var(--border); border-radius: 8px; overflow: hidden; transition: 0.3s; position: relative; animation: fadeUp 0.4s ease both; }
        .pcard:hover { border-color: var(--border-h); transform: translateY(-3px); }
        .pcard-top { padding: 22px 22px 16px; }
        .pcard-area { font-size: 9px; font-weight: 700; letter-spacing: 3px; color: var(--gold); text-transform: uppercase; margin-bottom: 10px; }
        .pcard-titulo { font-family: 'Cormorant Garamond', serif; font-size: 18px; font-weight: 700; margin-bottom: 8px; line-height: 1.3; }
        .pcard-desc { font-size: 12px; color: var(--sub); line-height: 1.6; margin-bottom: 14px; }

        .pcard-preview { position: relative; background: #000; border: 1px solid var(--border); border-radius: 4px; margin: 0 22px 16px; overflow: hidden; }
        .pcard-preview-texto { font-family: 'Courier New', monospace; font-size: 11px; color: rgba(252,246,186,0.5); line-height: 1.6; padding: 12px 14px; white-space: pre-wrap; }
        .pcard-preview-blur { position: absolute; bottom: 0; left: 0; right: 0; height: 55px; background: linear-gradient(transparent, #000); display: flex; align-items: flex-end; justify-content: center; padding-bottom: 8px; }
        .lock-pill { display: flex; align-items: center; gap: 5px; background: rgba(191,149,63,0.12); border: 1px solid rgba(191,149,63,0.3); border-radius: 20px; padding: 4px 12px; font-size: 9px; font-weight: 700; color: var(--gold); letter-spacing: 2px; text-transform: uppercase; }

        .pcard-bottom { padding: 14px 22px; border-top: 1px solid var(--border); display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; gap: 10px; }
        .pcard-tags { display: flex; gap: 6px; flex-wrap: wrap; }
        .tag { font-size: 8px; font-weight: 700; padding: 3px 9px; border-radius: 20px; background: var(--accent); border: 1px solid var(--border); color: var(--sub); text-transform: uppercase; }
        .tag.nivel-basico { color: #3498db; border-color: rgba(52,152,219,0.3); background: rgba(52,152,219,0.08); }
        .tag.nivel-inter { color: #f39c12; border-color: rgba(243,156,18,0.3); background: rgba(243,156,18,0.08); }
        .tag.nivel-avancado { color: #e74c3c; border-color: rgba(231,76,60,0.3); background: rgba(231,76,60,0.08); }
        .tag.nivel-premium { color: var(--gold); border-color: rgba(191,149,63,0.3); background: rgba(191,149,63,0.08); }
        .pcard-preco { font-family: 'Cormorant Garamond', serif; font-size: 22px; font-weight: 700; background: var(--gold-grad); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .btn-comprar { background: var(--gold-grad); color: #000; border: none; padding: 10px 20px; border-radius: 3px; font-family: 'DM Sans', sans-serif; font-weight: 700; font-size: 10px; letter-spacing: 2px; text-transform: uppercase; cursor: pointer; transition: 0.3s; white-space: nowrap; }
        .btn-comprar:hover { filter: brightness(1.15); }

        /* MODAL */
        .overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.94); z-index: 500; display: none; align-items: center; justify-content: center; padding: 20px; }
        .overlay.show { display: flex; }
        .modal { background: var(--card); border: 1px solid var(--border); border-radius: 10px; padding: 40px; max-width: 480px; width: 100%; max-height: 90vh; overflow-y: auto; position: relative; animation: fadeUp 0.3s ease both; }
        .modal::before { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 2px; background: var(--gold-grad); border-radius: 10px 10px 0 0; }
        .modal-fechar { position: absolute; top: 14px; right: 18px; background: none; border: none; color: var(--sub); font-size: 24px; cursor: pointer; transition: 0.2s; }
        .modal-fechar:hover { color: var(--text); }
        .modal-step { display: none; }
        .modal-step.ativo { display: block; }

        .modal-kicker { font-size: 9px; font-weight: 700; letter-spacing: 4px; color: var(--gold); text-transform: uppercase; margin-bottom: 10px; }
        .modal-titulo { font-family: 'Cormorant Garamond', serif; font-size: 26px; font-weight: 700; margin-bottom: 6px; }
        .modal-sub { font-size: 13px; color: var(--sub); line-height: 1.7; margin-bottom: 24px; }
        .inp { width: 100%; background: rgba(255,255,255,0.03); border: 1px solid var(--border); border-radius: 4px; padding: 14px 16px; color: var(--text); font-family: 'DM Sans', sans-serif; font-size: 14px; outline: none; transition: 0.3s; margin-bottom: 12px; }
        .inp::placeholder { color: var(--sub); }
        .inp:focus { border-color: var(--gold); }
        .radio-group { display: flex; gap: 10px; margin-bottom: 16px; }
        .radio-opt { flex: 1; border: 1px solid var(--border); border-radius: 4px; padding: 12px; cursor: pointer; text-align: center; transition: 0.3s; }
        .radio-opt.sel { border-color: var(--gold); background: var(--accent); }
        .radio-opt-icon { font-size: 20px; margin-bottom: 4px; }
        .radio-opt-label { font-size: 11px; font-weight: 600; color: var(--sub); }
        .radio-opt.sel .radio-opt-label { color: var(--gold); }
        .btn-full { width: 100%; background: var(--gold-grad); color: #000; border: none; padding: 16px; border-radius: 4px; font-family: 'DM Sans', sans-serif; font-weight: 700; font-size: 11px; letter-spacing: 3px; text-transform: uppercase; cursor: pointer; transition: 0.3s; margin-top: 6px; }
        .btn-full:hover { filter: brightness(1.15); }
        .btn-full.green { background: linear-gradient(135deg, #27ae60, #52c452); }
        .btn-full.copied { background: linear-gradient(135deg, #27ae60, #52c452); }

        .prompt-resumo { background: var(--card2); border: 1px solid var(--border); border-radius: 6px; padding: 16px; margin-bottom: 20px; }
        .prompt-resumo-nome { font-family: 'Cormorant Garamond', serif; font-size: 18px; font-weight: 700; margin-bottom: 4px; }
        .prompt-resumo-preco { font-size: 28px; font-family: 'Cormorant Garamond', serif; font-weight: 700; background: var(--gold-grad); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .pix-box { background: #000; border: 1px solid rgba(191,149,63,0.2); border-radius: 6px; padding: 18px; margin-bottom: 16px; text-align: center; }
        .pix-lbl { font-size: 9px; font-weight: 700; letter-spacing: 3px; color: var(--gold); text-transform: uppercase; margin-bottom: 10px; }
        .pix-key { font-size: 18px; font-weight: 700; color: var(--text); letter-spacing: 2px; margin-bottom: 6px; }
        .pix-nome { font-size: 11px; color: var(--sub); }
        .aviso-entrega { font-size: 12px; color: var(--sub); line-height: 1.7; text-align: center; margin-top: 16px; }
        .aviso-entrega strong { color: var(--gold); }

        /* CAIXA WHATSAPP COMPROVANTE */
        .whats-box { background: rgba(37,211,102,0.08); border: 1px solid rgba(37,211,102,0.3); border-radius: 8px; padding: 16px 18px; margin: 16px 0; display: flex; align-items: flex-start; gap: 12px; }
        .whats-box-icon { font-size: 26px; flex-shrink: 0; margin-top: 2px; }
        .whats-box-text { font-size: 12px; color: rgba(240,237,232,0.75); line-height: 1.7; }
        .whats-box-text strong { color: #25D366; display: block; font-size: 11px; letter-spacing: 1px; text-transform: uppercase; margin-bottom: 4px; }
        .whats-box-numero { font-size: 18px; font-weight: 700; color: #25D366; letter-spacing: 2px; margin-top: 6px; display: block; }

        .btn-whats { width: 100%; background: linear-gradient(135deg, #25D366, #128C7E); color: #fff; border: none; padding: 14px; border-radius: 4px; font-family: 'DM Sans', sans-serif; font-weight: 700; font-size: 11px; letter-spacing: 2px; text-transform: uppercase; cursor: pointer; transition: 0.3s; margin-top: 10px; display: flex; align-items: center; justify-content: center; gap: 8px; text-decoration: none; }
        .btn-whats:hover { filter: brightness(1.1); }

        .aguardando-box { text-align: center; padding: 20px 0; }
        .aguardando-icon { font-size: 50px; margin-bottom: 16px; animation: pulse 2s infinite; }
        @keyframes pulse { 0%,100%{opacity:1;} 50%{opacity:0.5;} }
        .aguardando-titulo { font-family: 'Cormorant Garamond', serif; font-size: 26px; font-weight: 700; margin-bottom: 10px; }
        .aguardando-sub { font-size: 13px; color: var(--sub); line-height: 1.7; }

        /* ADMIN */
        #page-admin { background: var(--bg); }
        .admin-header { padding: 30px 40px; border-bottom: 1px solid var(--border); display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; gap: 14px; }
        .admin-titulo { font-family: 'Cormorant Garamond', serif; font-size: 28px; font-weight: 700; }
        .admin-titulo em { font-style: italic; background: var(--gold-grad); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .admin-tabs { display: flex; gap: 8px; padding: 20px 40px 0; border-bottom: 1px solid var(--border); }
        .admin-tab { background: none; border: none; border-bottom: 2px solid transparent; padding: 10px 20px; font-family: 'DM Sans', sans-serif; font-size: 12px; font-weight: 700; color: var(--sub); cursor: pointer; letter-spacing: 2px; text-transform: uppercase; transition: 0.3s; margin-bottom: -1px; }
        .admin-tab.ativo { color: var(--gold); border-bottom-color: var(--gold); }
        .admin-content { padding: 30px 40px; }
        .admin-panel { display: none; }
        .admin-panel.ativo { display: block; }

        .pedidos-grid { display: flex; flex-direction: column; gap: 12px; }
        .pedido-card { background: var(--card); border: 1px solid var(--border); border-radius: 8px; padding: 20px; display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; gap: 14px; transition: 0.3s; }
        .pedido-card:hover { border-color: var(--border-h); }
        .pedido-info h3 { font-family: 'Cormorant Garamond', serif; font-size: 17px; font-weight: 700; margin-bottom: 4px; }
        .pedido-meta { font-size: 11px; color: var(--sub); display: flex; gap: 14px; flex-wrap: wrap; }
        .pedido-meta span { display: flex; align-items: center; gap: 4px; }
        .pedido-preco { font-family: 'Cormorant Garamond', serif; font-size: 22px; font-weight: 700; background: var(--gold-grad); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .pedido-status { font-size: 9px; font-weight: 700; letter-spacing: 2px; padding: 5px 12px; border-radius: 20px; text-transform: uppercase; }
        .status-pendente { background: rgba(243,156,18,0.12); border: 1px solid rgba(243,156,18,0.3); color: #f39c12; }
        .status-entregue { background: rgba(39,174,96,0.12); border: 1px solid rgba(39,174,96,0.3); color: var(--green); }
        .pedido-acoes { display: flex; gap: 8px; flex-wrap: wrap; }
        .btn-entregar { background: var(--gold-grad); color: #000; border: none; padding: 10px 18px; border-radius: 3px; font-family: 'DM Sans', sans-serif; font-weight: 700; font-size: 10px; letter-spacing: 2px; text-transform: uppercase; cursor: pointer; transition: 0.3s; }
        .btn-entregar:hover { filter: brightness(1.15); }
        .btn-ver-pedido { background: none; color: var(--gold); border: 1px solid rgba(191,149,63,0.3); padding: 10px 18px; border-radius: 3px; font-family: 'DM Sans', sans-serif; font-weight: 700; font-size: 10px; letter-spacing: 2px; text-transform: uppercase; cursor: pointer; transition: 0.3s; }
        .btn-ver-pedido:hover { background: var(--accent); }

        .form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 14px; }
        .form-full { grid-column: 1 / -1; }
        .inp-label { font-size: 9px; font-weight: 700; letter-spacing: 2px; color: var(--sub); text-transform: uppercase; margin-bottom: 6px; display: block; }
        textarea.inp { resize: vertical; min-height: 120px; }
        select.inp { appearance: none; cursor: pointer; }

        .stats-cards { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 14px; margin-bottom: 30px; }
        .stat-card { background: var(--card); border: 1px solid var(--border); border-radius: 8px; padding: 20px; }
        .stat-card-num { font-family: 'Cormorant Garamond', serif; font-size: 36px; font-weight: 700; background: var(--gold-grad); -webkit-background-clip: text; -webkit-text-fill-color: transparent; line-height: 1; margin-bottom: 6px; }
        .stat-card-label { font-size: 10px; color: var(--sub); letter-spacing: 2px; text-transform: uppercase; font-weight: 600; }

        #page-admin-login { display: flex; align-items: center; justify-content: center; min-height: 100vh; background: var(--bg); }
        .admin-login-box { background: var(--card); border: 1px solid var(--border); border-radius: 8px; padding: 40px; width: 100%; max-width: 360px; text-align: center; position: relative; }
        .admin-login-box::before { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 2px; background: var(--gold-grad); }

        #toast { position: fixed; bottom: 28px; left: 50%; transform: translateX(-50%) translateY(20px); background: var(--gold-grad); color: #000; padding: 13px 26px; border-radius: 4px; font-size: 10px; font-weight: 800; letter-spacing: 3px; text-transform: uppercase; opacity: 0; transition: 0.3s; z-index: 9999; pointer-events: none; white-space: nowrap; }
        #toast.show { opacity: 1; transform: translateX(-50%) translateY(0); }

        .vazio { grid-column: 1/-1; text-align: center; padding: 80px 20px; color: var(--sub); font-size: 13px; letter-spacing: 2px; }

        @keyframes fadeUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        @media (max-width: 640px) {
            .navbar, .hero, .filtros-wrap, .busca-wrap, .grid-section { padding-left: 20px; padding-right: 20px; }
            .grid { grid-template-columns: 1fr; }
            .modal { padding: 28px 20px; }
            .admin-header, .admin-content { padding-left: 20px; padding-right: 20px; }
            .form-grid { grid-template-columns: 1fr; }
            .radio-group { flex-direction: column; }
        }
    </style>
</head>
<body>
<div id="toast"></div>

<!-- OVERLAY COMPRA -->
<div class="overlay" id="overlay-compra">
    <div class="modal">
        <button class="modal-fechar" onclick="fecharOverlay()">√ó</button>

        <!-- STEP 1: DADOS DO CLIENTE -->
        <div class="modal-step ativo" id="step1">
            <div class="modal-kicker">Quase l√°!</div>
            <div class="modal-titulo" id="s1-titulo">Peti√ß√£o Inicial</div>
            <div class="modal-sub">Preencha seus dados para receber o prompt ap√≥s o pagamento.</div>

            <input class="inp" type="text" id="s1-nome" placeholder="Seu nome completo">
            <input class="inp" type="email" id="s1-email" placeholder="Seu e-mail">
            <input class="inp" type="tel" id="s1-whats" placeholder="WhatsApp com DDD">

            <div style="margin-bottom:10px;font-size:10px;font-weight:700;letter-spacing:2px;color:var(--sub);text-transform:uppercase;">Como quer receber o prompt?</div>
            <div class="radio-group">
                <div class="radio-opt sel" id="opt-email" onclick="selecionarEntrega('email')">
                    <div class="radio-opt-icon">üìß</div>
                    <div class="radio-opt-label">E-mail</div>
                </div>
                <div class="radio-opt" id="opt-whats" onclick="selecionarEntrega('whats')">
                    <div class="radio-opt-icon">üí¨</div>
                    <div class="radio-opt-label">WhatsApp</div>
                </div>
                <div class="radio-opt" id="opt-ambos" onclick="selecionarEntrega('ambos')">
                    <div class="radio-opt-icon">‚úÖ</div>
                    <div class="radio-opt-label">Os dois</div>
                </div>
            </div>

            <div id="s1-erro" style="font-size:11px;color:var(--red);margin-bottom:10px;min-height:16px;"></div>
            <button class="btn-full" onclick="irParaPix()">CONTINUAR PARA PAGAMENTO ‚Üí</button>
        </div>

        <!-- STEP 2: PIX + INSTRU√á√ÉO COMPROVANTE -->
        <div class="modal-step" id="step2">
            <div class="modal-kicker">Pagamento</div>
            <div class="modal-titulo">Pagar com Pix</div>
            <div class="modal-sub">Fa√ßa o Pix abaixo. Seu prompt ser√° enviado ap√≥s confirma√ß√£o.</div>

            <div class="prompt-resumo">
                <div class="prompt-resumo-nome" id="s2-titulo"></div>
                <div class="prompt-resumo-preco" id="s2-preco"></div>
            </div>

            <div class="pix-box">
                <div class="pix-lbl">Chave Pix ‚Äî CPF</div>
                <div class="pix-key">39521484829</div>
                <div class="pix-nome">C√°ssia Kelly Lins Reis</div>
            </div>

            <button class="btn-full" id="btn-copiar-pix" onclick="copiarPix()">üìã COPIAR CHAVE PIX</button>

            <!-- INSTRU√á√ÉO COMPROVANTE VIA WHATSAPP -->
            <div class="whats-box" style="margin-top:20px;">
                <div class="whats-box-icon">üì≤</div>
                <div class="whats-box-text">
                    <strong>üìå Ap√≥s pagar, envie o comprovante:</strong>
                    Depois de realizar o Pix, envie o <strong style="color:var(--gold);display:inline;font-size:inherit;text-transform:none;letter-spacing:0;">comprovante de pagamento</strong> para o nosso WhatsApp. Seu prompt ser√° entregue rapidamente ap√≥s a confirma√ß√£o!
                    <span class="whats-box-numero">(11) 97885-7415</span>
                </div>
            </div>

            <a id="btn-whats-comprovante" class="btn-whats" href="#" target="_blank" onclick="abrirWhatsComprovante(event)">
                üí¨ ENVIAR COMPROVANTE VIA WHATSAPP
            </a>

            <div class="aviso-entrega" style="margin-top:12px;">
                Voc√™ receber√° o prompt via <strong><span id="s2-entrega"></span></strong> ap√≥s confirma√ß√£o.<br>
                Tempo m√©dio: <strong>at√© 1 hora</strong>.
            </div>

            <button class="btn-full" style="margin-top:16px;background:rgba(39,174,96,0.15);color:var(--green);border:1px solid rgba(39,174,96,0.3);" onclick="confirmarPagamento()">‚úÖ J√Å ENVIEI O COMPROVANTE</button>
        </div>

        <!-- STEP 3: AGUARDANDO -->
        <div class="modal-step" id="step3">
            <div class="aguardando-box">
                <div class="aguardando-icon">‚è≥</div>
                <div class="aguardando-titulo">Pedido recebido!</div>
                <div class="aguardando-sub">
                    Seu pedido foi registrado com sucesso.<br><br>
                    Estamos verificando o pagamento e em breve voc√™ receber√° o prompt via <strong id="s3-entrega" style="color:var(--gold);"></strong>.<br><br>
                    Tempo m√©dio: <strong style="color:var(--gold);">at√© 1 hora</strong>.
                </div>

                <!-- LEMBRETE WHATS NO STEP 3 -->
                <div class="whats-box" style="margin-top:24px;text-align:left;">
                    <div class="whats-box-icon">üì≤</div>
                    <div class="whats-box-text">
                        <strong>N√£o esquece!</strong>
                        Envie o comprovante do Pix para garantir a entrega mais r√°pida:
                        <span class="whats-box-numero">(11) 97885-7415</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- OVERLAY VER PEDIDO (ADMIN) -->
<div class="overlay" id="overlay-pedido">
    <div class="modal">
        <button class="modal-fechar" onclick="fecharOverlayPedido()">√ó</button>
        <div class="modal-kicker">Detalhes do Pedido</div>
        <div class="modal-titulo" id="op-prompt"></div>
        <div style="margin:14px 0;padding:14px;background:var(--card2);border:1px solid var(--border);border-radius:6px;font-size:12px;color:var(--sub);line-height:1.7;">
            <div><strong style="color:var(--text);">Cliente:</strong> <span id="op-nome"></span></div>
            <div><strong style="color:var(--text);">E-mail:</strong> <span id="op-email"></span></div>
            <div><strong style="color:var(--text);">WhatsApp:</strong> <span id="op-whats"></span></div>
            <div><strong style="color:var(--text);">Entrega:</strong> <span id="op-entrega"></span></div>
            <div><strong style="color:var(--text);">Valor:</strong> <span id="op-preco"></span></div>
            <div><strong style="color:var(--text);">Data:</strong> <span id="op-data"></span></div>
        </div>
        <div style="margin-bottom:10px;font-size:10px;font-weight:700;letter-spacing:2px;color:var(--sub);text-transform:uppercase;">Prompt completo para enviar:</div>
        <div id="op-prompt-completo" style="background:#000;border:1px solid var(--border);border-radius:4px;padding:16px;font-family:'Courier New',monospace;font-size:11px;color:#fcf6ba;line-height:1.7;white-space:pre-wrap;max-height:220px;overflow-y:auto;margin-bottom:14px;"></div>
        <button class="btn-full" id="btn-copiar-prompt-admin" onclick="copiarPromptAdmin()">üìã COPIAR PROMPT PARA ENVIAR</button>
        <button class="btn-full" style="margin-top:10px;" id="btn-marcar-entregue" onclick="marcarEntregue()">‚úÖ MARCAR COMO ENTREGUE</button>
    </div>
</div>

<!-- P√ÅGINA: LOJA -->
<div id="page-loja" class="page ativa">
    <nav class="navbar">
        <div class="nav-logo" onclick="irParaLoja()">PROMPTUS <span>STORE</span></div>
        <div class="nav-right">
            <button class="nav-btn" onclick="irParaAdminLogin()">üîê Admin</button>
        </div>
    </nav>

    <div class="hero">
        <div class="hero-kicker">Prompts Profissionais Brasileiros</div>
        <h1 class="hero-titulo">Prompts que resolvem<br><em>dores reais.</em></h1>
        <p class="hero-sub">Cada prompt foi criado por especialista, testado contra alucina√ß√µes e calibrado para o mercado brasileiro. Compre s√≥ o que precisa.</p>
        <div class="hero-badge">üõ°Ô∏è Anti-alucina√ß√£o ¬∑ Anti-mentira ¬∑ Uso universal</div>
    </div>

    <div class="busca-wrap">
        <input class="busca" type="text" id="busca" placeholder="üîç  Buscar prompt... ex: peti√ß√£o, laudo, contrato, proposta" oninput="filtrarPrompts()">
    </div>

    <div class="filtros-wrap" id="filtros-wrap"></div>

    <div class="grid-section">
        <div class="grid-label" id="grid-label">Todos os Prompts</div>
        <div class="grid" id="prompts-grid"></div>
    </div>
</div>

<!-- P√ÅGINA: ADMIN LOGIN -->
<div id="page-admin-login" class="page" style="display:none;">
    <div class="admin-login-box">
        <div style="font-family:'Cormorant Garamond',serif;font-size:28px;font-weight:900;background:var(--gold-grad);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin-bottom:6px;">PROMPTUS</div>
        <div style="font-size:9px;letter-spacing:4px;color:var(--sub);text-transform:uppercase;margin-bottom:32px;">Painel Admin</div>
        <input class="inp" type="password" id="admin-senha" placeholder="Senha de administrador" onkeydown="if(event.key==='Enter') loginAdmin()">
        <div id="admin-erro" style="font-size:11px;color:var(--red);margin-bottom:10px;min-height:16px;"></div>
        <button class="btn-full" onclick="loginAdmin()">ENTRAR</button>
        <div style="margin-top:16px;font-size:11px;color:var(--sub);cursor:pointer;" onclick="irParaLoja()">‚Üê Voltar √† loja</div>
    </div>
</div>

<!-- P√ÅGINA: ADMIN PAINEL -->
<div id="page-admin" class="page" style="display:none;">
    <nav class="navbar">
        <div class="nav-logo">PROMPTUS <span>ADMIN</span></div>
        <div class="nav-right">
            <button class="nav-btn" onclick="irParaLoja()">‚Üê Ver Loja</button>
            <button class="nav-btn" onclick="logoutAdmin()">SAIR</button>
        </div>
    </nav>

    <div class="admin-header">
        <div class="admin-titulo">Painel de <em>Gest√£o</em></div>
        <div class="stats-cards" style="margin:0;flex:1;justify-content:flex-end;display:flex;gap:14px;flex-wrap:wrap;">
            <div class="stat-card" style="min-width:140px;">
                <div class="stat-card-num" id="stat-pedidos">0</div>
                <div class="stat-card-label">Pedidos totais</div>
            </div>
            <div class="stat-card" style="min-width:140px;">
                <div class="stat-card-num" id="stat-pendentes">0</div>
                <div class="stat-card-label">Pendentes</div>
            </div>
            <div class="stat-card" style="min-width:140px;">
                <div class="stat-card-num" id="stat-receita">R$0</div>
                <div class="stat-card-label">Receita total</div>
            </div>
        </div>
    </div>

    <div class="admin-tabs">
        <button class="admin-tab ativo" onclick="mudarTab('pedidos', this)">üì¶ Pedidos</button>
        <button class="admin-tab" onclick="mudarTab('prompts', this)">üìù Prompts</button>
        <button class="admin-tab" onclick="mudarTab('adicionar', this)">‚ûï Adicionar Prompt</button>
    </div>

    <div class="admin-content">
        <div class="admin-panel ativo" id="panel-pedidos">
            <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:20px;flex-wrap:wrap;gap:10px;">
                <div style="font-size:13px;color:var(--sub);">Pedidos recentes (clique em Ver para copiar o prompt e entregar)</div>
                <button class="nav-btn" onclick="carregarPedidos()" style="font-size:10px;">üîÑ Atualizar</button>
            </div>
            <div class="pedidos-grid" id="pedidos-grid">
                <div style="text-align:center;padding:40px;color:var(--sub);">Carregando pedidos...</div>
            </div>
        </div>

        <div class="admin-panel" id="panel-prompts">
            <div style="margin-bottom:20px;font-size:13px;color:var(--sub);">Prompts cadastrados.</div>
            <div class="grid" id="admin-prompts-grid"></div>
        </div>

        <div class="admin-panel" id="panel-adicionar">
            <div style="max-width:680px;">
                <div style="margin-bottom:24px;font-size:13px;color:var(--sub);">Preencha os dados do novo prompt:</div>
                <div class="form-grid">
                    <div>
                        <label class="inp-label">T√≠tulo do prompt</label>
                        <input class="inp" type="text" id="f-titulo" placeholder="Ex: Peti√ß√£o Inicial Trabalhista">
                    </div>
                    <div>
                        <label class="inp-label">√Årea</label>
                        <select class="inp" id="f-area">
                            <option value="juridico">‚öñÔ∏è Jur√≠dico</option>
                            <option value="medico">üè• M√©dico</option>
                            <option value="negocios">üíº Neg√≥cios e RH</option>
                            <option value="marketing">üì£ Marketing</option>
                            <option value="contabil">üìä Cont√°bil</option>
                            <option value="psicologia">üß† Psicologia</option>
                            <option value="educacao">üìö Educa√ß√£o</option>
                            <option value="engenharia">üîß Engenharia</option>
                            <option value="ti">üíª TI</option>
                            <option value="outro">‚ú≥Ô∏è Outro</option>
                        </select>
                    </div>
                    <div>
                        <label class="inp-label">N√≠vel de complexidade</label>
                        <select class="inp" id="f-nivel">
                            <option value="basico">B√°sico ‚Äî R$9,90</option>
                            <option value="intermediario">Intermedi√°rio ‚Äî R$19,90</option>
                            <option value="avancado">Avan√ßado ‚Äî R$29,90</option>
                            <option value="premium">Premium ‚Äî R$49,90</option>
                        </select>
                    </div>
                    <div>
                        <label class="inp-label">Tag (categoria)</label>
                        <input class="inp" type="text" id="f-tag" placeholder="Ex: Peti√ß√£o, Laudo, Contrato">
                    </div>
                    <div class="form-full">
                        <label class="inp-label">Descri√ß√£o (o que este prompt resolve?)</label>
                        <textarea class="inp" id="f-desc" placeholder="Explique claramente o que o prompt faz e qual dor resolve..." rows="3"></textarea>
                    </div>
                    <div class="form-full">
                        <label class="inp-label">Preview do prompt (primeiras linhas vis√≠veis antes da compra)</label>
                        <textarea class="inp" id="f-preview" placeholder="PERSONA: Voc√™ √© advogado(a) trabalhista..." rows="3"></textarea>
                    </div>
                    <div class="form-full">
                        <label class="inp-label">Prompt completo (entregue ap√≥s pagamento)</label>
                        <textarea class="inp" id="f-prompt" placeholder="Prompt completo com todas as instru√ß√µes..." rows="8"></textarea>
                    </div>
                </div>
                <div id="f-erro" style="font-size:11px;color:var(--red);margin:10px 0;min-height:16px;"></div>
                <button class="btn-full" onclick="salvarPrompt()">‚úÖ SALVAR PROMPT NA LOJA</button>
            </div>
        </div>
    </div>
</div>

<script>
// ‚îÄ‚îÄ FIREBASE ‚îÄ‚îÄ
const fConfig = { databaseURL: "https://cassia-v9-default-rtdb.firebaseio.com" };
firebase.initializeApp(fConfig);
const db = firebase.database();

// ‚îÄ‚îÄ CONFIG ‚îÄ‚îÄ
const ADMIN_SENHA = 'cassia2025';
const PIX_CHAVE = '39521484829';
const PIX_NOME = 'C√°ssia Kelly Lins Reis';
const WHATS_COMPROVANTE = '5511978857415';
const PRECOS = { basico: 9.90, intermediario: 19.90, avancado: 29.90, premium: 49.90 };
const PRECOS_LABEL = { basico: 'R$9,90', intermediario: 'R$19,90', avancado: 'R$29,90', premium: 'R$49,90' };
const NIVEIS_TAG = { basico: 'nivel-basico', intermediario: 'nivel-inter', avancado: 'nivel-avancado', premium: 'nivel-premium' };
const NIVEIS_LABEL = { basico: 'B√°sico', intermediario: 'Intermedi√°rio', avancado: 'Avan√ßado', premium: 'Premium' };

const AREAS = [
    {key:'todos',label:'Todos',emoji:'‚ú®'},
    {key:'juridico',label:'Jur√≠dico',emoji:'‚öñÔ∏è'},
    {key:'medico',label:'M√©dico',emoji:'üè•'},
    {key:'negocios',label:'Neg√≥cios',emoji:'üíº'},
    {key:'marketing',label:'Marketing',emoji:'üì£'},
    {key:'contabil',label:'Cont√°bil',emoji:'üìä'},
    {key:'psicologia',label:'Psicologia',emoji:'üß†'},
    {key:'educacao',label:'Educa√ß√£o',emoji:'üìö'},
    {key:'engenharia',label:'Engenharia',emoji:'üîß'},
    {key:'ti',label:'TI',emoji:'üíª'},
    {key:'outro',label:'Outro',emoji:'‚ú≥Ô∏è'},
];

const ANTI = `\n\nüõ°Ô∏è REGRAS ANTI-ALUCINA√á√ÉO ‚Äî OBRIGAT√ìRIAS:\n‚õî NUNCA invente dados, nomes, datas, valores ou fatos n√£o fornecidos.\n‚õî NUNCA cite leis ou jurisprud√™ncia inexistentes.\n‚õî Se faltar informa√ß√£o essencial, escreva: ‚ö†Ô∏è DADO AUSENTE: [o que falta].\n‚úÖ Use EXCLUSIVAMENTE os dados fornecidos abaixo.\n‚úÖ Em caso de d√∫vida, sinalize claramente.`;

// ‚îÄ‚îÄ 14 PROMPTS ORIGINAIS ‚îÄ‚îÄ
const PROMPTS_ORIGINAIS = [
{titulo:'Peti√ß√£o Inicial Trabalhista',area:'juridico',nivel:'avancado',tag:'Peti√ß√£o',desc:'Gera peti√ß√£o trabalhista completa com CLT, S√∫mulas do TST e jurisprud√™ncia. Resolve a dor de advogados que perdem horas formatando pe√ßas.',preview:'PERSONA: Voc√™ √© advogado(a) trabalhista s√™nior com 20 anos de TRT.\nTAREFA: Redigir peti√ß√£o inicial trabalhista completa.\nESTRUTURA:\n1. Qualifica√ß√£o das partes\n2. Dos fatos...',prompt:`PERSONA: Voc√™ √© advogado(a) trabalhista s√™nior com 20 anos de experi√™ncia no TRT.\nTAREFA: Redigir peti√ß√£o inicial trabalhista completa e tecnicamente impec√°vel.\nESTRUTURA OBRIGAT√ìRIA:\n1. Qualifica√ß√£o das partes\n2. Dos fatos (cronol√≥gico)\n3. Do direito (cite CLT e S√∫mulas TST espec√≠ficas)\n4. Dos pedidos (itemize cada um com valor)\n5. Do valor da causa${ANTI}\nDADOS DO CASO:\n[INSIRA AQUI: partes, fatos, verbas e pedidos]`},
{titulo:'Laudo M√©dico Completo',area:'medico',nivel:'avancado',tag:'Laudo',desc:'Laudo t√©cnico estruturado com anamnese, CID-10 e conduta. Para m√©dicos que precisam de documenta√ß√£o impec√°vel e r√°pida.',preview:'PERSONA: Voc√™ √© m√©dico(a) especialista com 20 anos de experi√™ncia cl√≠nica.\nTAREFA: Redigir laudo m√©dico completo.\nESTRUTURA:\n1. Identifica√ß√£o do paciente\n2. Anamnese...',prompt:`PERSONA: Voc√™ √© m√©dico(a) especialista com 20 anos de experi√™ncia cl√≠nica.\nTAREFA: Redigir laudo m√©dico completo e impec√°vel.\nESTRUTURA:\n1. Identifica√ß√£o do paciente\n2. Queixa principal\n3. Anamnese e hist√≥rico\n4. Exame f√≠sico\n5. Hip√≥tese diagn√≥stica e CID-10\n6. Conduta m√©dica${ANTI}\nDADOS:\n[INSIRA: nome, idade, queixas, exames e hist√≥rico]`},
{titulo:'Proposta Comercial de Alto Impacto',area:'negocios',nivel:'intermediario',tag:'Vendas',desc:'Proposta persuasiva focada em valor, n√£o pre√ßo. Para empres√°rios que perdem vendas por propostas fracas e gen√©ricas.',preview:'PERSONA: Voc√™ √© consultor(a) comercial s√™nior com 20 anos em vendas B2B.\nTAREFA: Redigir proposta comercial profissional.\nESTRUTURA:\n1. Diagn√≥stico do problema...',prompt:`PERSONA: Voc√™ √© consultor(a) comercial s√™nior com 20 anos em vendas B2B.\nTAREFA: Redigir proposta comercial profissional e persuasiva.\nESTRUTURA:\n1. Apresenta√ß√£o executiva\n2. Diagn√≥stico do problema do cliente\n3. Solu√ß√£o proposta\n4. Benef√≠cios e ROI estimado\n5. Investimento e condi√ß√µes\n6. Pr√≥ximos passos e prazo${ANTI}\nDADOS:\n[INSIRA: empresa, produto, cliente e valor]`},
{titulo:'Copy para P√°gina de Vendas',area:'marketing',nivel:'avancado',tag:'Copywriting',desc:'Copy de alta convers√£o com gatilhos mentais e CTA irresist√≠vel. Para quem quer vender mais sem contratar ag√™ncia.',preview:'PERSONA: Voc√™ √© copywriter s√™nior especialista em p√°ginas de vendas.\nTAREFA: Escrever copy completa.\nESTRUTURA:\n1. Headline impactante\n2. Identifica√ß√£o do problema...',prompt:`PERSONA: Voc√™ √© copywriter s√™nior especialista em p√°ginas de alta convers√£o.\nTAREFA: Escrever copy completa para p√°gina de vendas.\nESTRUTURA:\n1. Headline impactante (testa 3 op√ß√µes)\n2. Subheadline de apoio\n3. Identifica√ß√£o da dor do p√∫blico\n4. Apresenta√ß√£o da solu√ß√£o\n5. Benef√≠cios (n√£o caracter√≠sticas)\n6. Prova social\n7. Oferta e garantia\n8. CTA urgente${ANTI}\nDADOS:\n[INSIRA: produto, p√∫blico, pre√ßo e diferenciais]`},
{titulo:'Parecer Cont√°bil T√©cnico',area:'contabil',nivel:'avancado',tag:'Parecer',desc:'Parecer com fundamenta√ß√£o NBC e legisla√ß√£o tribut√°ria. Para contadores que precisam de documentos s√≥lidos e sem erros.',preview:'PERSONA: Voc√™ √© contador(a) s√™nior com CRC ativo e 20 anos de experi√™ncia.\nTAREFA: Elaborar parecer cont√°bil t√©cnico.\nESTRUTURA:\n1. Do objeto...',prompt:`PERSONA: Voc√™ √© contador(a) s√™nior com CRC ativo e 20 anos de experi√™ncia.\nTAREFA: Elaborar parecer cont√°bil t√©cnico fundamentado.\nESTRUTURA:\n1. Do objeto do parecer\n2. Da documenta√ß√£o analisada\n3. Da fundamenta√ß√£o (NBC, IFRS, legisla√ß√£o)\n4. Das constata√ß√µes\n5. Da conclus√£o fundamentada${ANTI}\nDADOS:\n[INSIRA: empresa, per√≠odo, situa√ß√£o e dados cont√°beis]`},
{titulo:'Relat√≥rio Psicol√≥gico Completo',area:'psicologia',nivel:'avancado',tag:'Relat√≥rio',desc:'Relat√≥rio conforme Resolu√ß√£o CFP 06/2019. Para psic√≥logos que precisam de documenta√ß√£o cl√≠nica impec√°vel.',preview:'PERSONA: Voc√™ √© psic√≥logo(a) com CRP ativo e 20 anos de experi√™ncia.\nTAREFA: Elaborar relat√≥rio psicol√≥gico completo.\nBASE: Resolu√ß√£o CFP 06/2019...',prompt:`PERSONA: Voc√™ √© psic√≥logo(a) com CRP ativo e 20 anos de experi√™ncia cl√≠nica.\nTAREFA: Elaborar relat√≥rio psicol√≥gico completo.\nBASE LEGAL: Resolu√ß√£o CFP 06/2019.\nESTRUTURA:\n1. Identifica√ß√£o e finalidade\n2. Procedimentos utilizados\n3. An√°lise dos resultados\n4. Conclus√£o\n5. Assinatura e CRP${ANTI}\nDADOS:\n[INSIRA: paciente, demanda e observa√ß√µes cl√≠nicas]`},
{titulo:'Plano de Aula BNCC',area:'educacao',nivel:'intermediario',tag:'Plano de Aula',desc:'Plano completo com habilidades BNCC e metodologias ativas. Para professores que economizam horas de planejamento.',preview:'PERSONA: Voc√™ √© pedagogo(a) especialista em curr√≠culo.\nTAREFA: Elaborar plano de aula completo.\nBASE: BNCC.\nESTRUTURA:\n1. Objetivos de aprendizagem...',prompt:`PERSONA: Voc√™ √© pedagogo(a) especialista em curr√≠culo e did√°tica.\nTAREFA: Elaborar plano de aula completo e aplic√°vel.\nBASE: BNCC.\nESTRUTURA:\n1. Identifica√ß√£o (disciplina, ano, tema, dura√ß√£o)\n2. Objetivos de aprendizagem\n3. Habilidades BNCC\n4. Sequ√™ncia did√°tica (in√≠cio, desenvolvimento, fechamento)\n5. Recursos necess√°rios\n6. Avalia√ß√£o e crit√©rios${ANTI}\nDADOS:\n[INSIRA: disciplina, ano, tema e contexto da turma]`},
{titulo:'Laudo T√©cnico de Vistoria',area:'engenharia',nivel:'avancado',tag:'Laudo',desc:'Laudo de vistoria com base ABNT. Para engenheiros que precisam de documenta√ß√£o t√©cnica profissional e sem risco.',preview:'PERSONA: Voc√™ √© engenheiro(a) civil s√™nior com CREA ativo.\nTAREFA: Elaborar laudo t√©cnico de vistoria.\nREFER√äNCIAS: NBR aplic√°vel...',prompt:`PERSONA: Voc√™ √© engenheiro(a) civil s√™nior com CREA ativo.\nTAREFA: Elaborar laudo t√©cnico de vistoria.\nREFER√äNCIAS: NBR aplic√°vel e legisla√ß√£o municipal.\nESTRUTURA:\n1. Identifica√ß√£o do im√≥vel e solicitante\n2. Objeto e finalidade\n3. Metodologia\n4. Descri√ß√£o do estado da edifica√ß√£o\n5. An√°lise t√©cnica\n6. Conclus√£o\n7. Recomenda√ß√µes${ANTI}\nDADOS:\n[INSIRA: endere√ßo, data, finalidade e observa√ß√µes]`},
{titulo:'Documento de Requisitos de Software',area:'ti',nivel:'premium',tag:'Documenta√ß√£o',desc:'Especifica√ß√£o t√©cnica padr√£o IEEE 830 com requisitos funcionais e n√£o funcionais. Para times de TI que precisam de documenta√ß√£o s√©ria.',preview:'PERSONA: Voc√™ √© arquiteto(a) de software s√™nior com 20 anos de experi√™ncia.\nTAREFA: Elaborar SRS completo.\nPADR√ÉO: IEEE 830...',prompt:`PERSONA: Voc√™ √© arquiteto(a) de software s√™nior com 20 anos de experi√™ncia.\nTAREFA: Elaborar documento de requisitos de software (SRS).\nPADR√ÉO: IEEE 830.\nESTRUTURA:\n1. Vis√£o geral do sistema\n2. Requisitos funcionais\n3. Requisitos n√£o funcionais\n4. Restri√ß√µes\n5. Casos de uso principais${ANTI}\nDADOS:\n[INSIRA: sistema, stakeholders e funcionalidades]`},
{titulo:'Atestado M√©dico',area:'medico',nivel:'basico',tag:'Atestado',desc:'Atestado com validade legal conforme CFM. Para m√©dicos que precisam de documenta√ß√£o r√°pida e correta.',preview:'PERSONA: Voc√™ √© m√©dico(a) com CRM ativo.\nTAREFA: Redigir atestado m√©dico com plena validade legal.\nBASE: Resolu√ß√£o CFM 1.658/2002...',prompt:`PERSONA: Voc√™ √© m√©dico(a) com CRM ativo.\nTAREFA: Redigir atestado m√©dico com plena validade legal.\nBASE: Resolu√ß√£o CFM 1.658/2002.\nESTRUTURA:\n1. Identifica√ß√£o do paciente\n2. Diagn√≥stico ou CID (se autorizado)\n3. Per√≠odo de afastamento\n4. Recomenda√ß√µes\n5. Dados do m√©dico e CRM${ANTI}\nDADOS:\n[INSIRA: paciente, diagn√≥stico, per√≠odo e CRM]`},
{titulo:'Contrato de Presta√ß√£o de Servi√ßos',area:'juridico',nivel:'intermediario',tag:'Contrato',desc:'Contrato com cl√°usulas protetivas baseado no C√≥digo Civil. Para quem quer se proteger juridicamente sem pagar advogado.',preview:'PERSONA: Voc√™ √© advogado(a) civilista especialista em contratos.\nTAREFA: Redigir contrato de presta√ß√£o de servi√ßos.\nBASE: C√≥digo Civil arts. 593-609...',prompt:`PERSONA: Voc√™ √© advogado(a) civilista especialista em contratos.\nTAREFA: Redigir contrato de presta√ß√£o de servi√ßos completo.\nBASE: C√≥digo Civil arts. 593-609.\nESTRUTURA:\n1. Qualifica√ß√£o das partes\n2. Do objeto\n3. Do prazo\n4. Do valor e pagamento\n5. Das obriga√ß√µes\n6. Da rescis√£o e multa\n7. Do foro${ANTI}\nDADOS:\n[INSIRA: partes, objeto, valores e condi√ß√µes]`},
{titulo:'Sequ√™ncia de E-mails de Vendas',area:'marketing',nivel:'intermediario',tag:'E-mail Marketing',desc:'5 e-mails que nutrem e convertem leads. Para empres√°rios que querem vender mais no piloto autom√°tico.',preview:'PERSONA: Voc√™ √© especialista em e-mail marketing e copywriting.\nTAREFA: Criar sequ√™ncia de 5 e-mails de nutri√ß√£o.\nFLUXO: Boas-vindas ‚Üí Dor ‚Üí Solu√ß√£o...',prompt:`PERSONA: Voc√™ √© especialista em e-mail marketing e copywriting.\nTAREFA: Criar sequ√™ncia completa de 5 e-mails de nutri√ß√£o e convers√£o.\nESTRUTURA DE CADA E-MAIL:\n- Assunto irresist√≠vel\n- Abertura que conecta\n- Corpo com valor ou storytelling\n- CTA claro\nFLUXO: E1 boas-vindas ‚Üí E2 dor ‚Üí E3 solu√ß√£o ‚Üí E4 prova ‚Üí E5 oferta${ANTI}\nDADOS:\n[INSIRA: produto, p√∫blico e oferta]`},
{titulo:'Avalia√ß√£o de Desempenho Completa',area:'negocios',nivel:'intermediario',tag:'RH',desc:'Formul√°rio e relat√≥rio de avalia√ß√£o com PDI. Para gestores que querem dar feedback justo e estruturado.',preview:'PERSONA: Voc√™ √© especialista em gest√£o de desempenho.\nTAREFA: Elaborar avalia√ß√£o de desempenho completa.\nESTRUTURA:\n1. Compet√™ncias avaliadas...',prompt:`PERSONA: Voc√™ √© especialista em gest√£o de desempenho.\nTAREFA: Elaborar avalia√ß√£o de desempenho completa e justa.\nESTRUTURA:\n1. Identifica√ß√£o do colaborador\n2. Compet√™ncias avaliadas (com escala 1-5)\n3. Resultados vs. metas\n4. Pontos fortes\n5. Pontos de desenvolvimento\n6. PDI (Plano de Desenvolvimento Individual)\n7. Feedback e pr√≥ximos passos${ANTI}\nDADOS:\n[INSIRA: colaborador, cargo, per√≠odo e metas]`},
{titulo:'Planejamento Tribut√°rio Empresarial',area:'contabil',nivel:'premium',tag:'Tribut√°rio',desc:'Planejamento tribut√°rio legal para redu√ß√£o da carga fiscal. Para empresas que pagam imposto a mais sem saber.',preview:'PERSONA: Voc√™ √© contador(a) tributarista s√™nior.\nTAREFA: Elaborar planejamento tribut√°rio legal.\nBASE: IRPJ, CSLL, PIS, COFINS...',prompt:`PERSONA: Voc√™ √© contador(a) tributarista s√™nior.\nTAREFA: Elaborar planejamento tribut√°rio legal e eficiente.\nBASE LEGAL: IRPJ, CSLL, PIS, COFINS e legisla√ß√£o vigente.\nESTRUTURA:\n1. Diagn√≥stico fiscal atual\n2. Comparativo de regimes (Simples, Lucro Presumido, Real)\n3. Oportunidades de economia identificadas\n4. Recomenda√ß√µes legais\n5. Proje√ß√£o de economia${ANTI}\nDADOS:\n[INSIRA: empresa, faturamento e regime atual]`},
{titulo:'Laudo Psicol√≥gico para INSS',area:'psicologia',nivel:'premium',tag:'Laudo Pericial',desc:'Laudo de incapacidade por transtorno mental para benef√≠cio previdenci√°rio. Para psic√≥logos que atendem pacientes em demanda judicial.',preview:'PERSONA: Voc√™ √© psic√≥logo(a) com CRP ativo especializado em avalia√ß√£o pericial.\nTAREFA: Elaborar laudo para afastamento e benef√≠cio INSS...',prompt:`PERSONA: Voc√™ √© psic√≥logo(a) com CRP ativo especializado em avalia√ß√£o pericial.\nTAREFA: Elaborar laudo psicol√≥gico para afastamento e benef√≠cio INSS.\nBASE: Lei 8.213/91 e Resolu√ß√£o CFP 06/2019.\nESTRUTURA:\n1. Identifica√ß√£o do periciado\n2. Anamnese psicol√≥gica\n3. Hist√≥rico de tratamentos\n4. Avalia√ß√£o do estado mental atual\n5. Diagn√≥stico CID-10\n6. Impacto na capacidade laborativa\n7. Conclus√£o e prazo de afastamento${ANTI}\nDADOS:\n[INSIRA: paciente, diagn√≥stico e hist√≥rico]`},
];

// ‚îÄ‚îÄ 30 NOVOS PROMPTS ‚îÄ‚îÄ
const PROMPTS_NOVOS = [
// JUR√çDICO
{titulo:'Recurso de Multa de Tr√¢nsito',area:'juridico',nivel:'basico',tag:'Recurso',desc:'Recurso administrativo para contestar multas de tr√¢nsito com base no CTB. Para motoristas que querem se defender sem advogado.',preview:'PERSONA: Voc√™ √© advogado(a) especialista em direito de tr√¢nsito.\nTAREFA: Redigir recurso de multa de tr√¢nsito.\nBASE: C√≥digo de Tr√¢nsito Brasileiro...',prompt:`PERSONA: Voc√™ √© advogado(a) especialista em direito de tr√¢nsito.\nTAREFA: Redigir recurso administrativo de multa de tr√¢nsito.\nBASE: C√≥digo de Tr√¢nsito Brasileiro (Lei 9.503/97).\nESTRUTURA:\n1. Identifica√ß√£o do recorrente e ve√≠culo\n2. Dados da autua√ß√£o\n3. Dos fundamentos do recurso\n4. Da nulidade ou ilegitimidade (se aplic√°vel)\n5. Do pedido de cancelamento ou redu√ß√£o\n6. Documentos anexos${ANTI}\nDADOS:\n[INSIRA: nome, CPF, placa, auto de infra√ß√£o, data e descri√ß√£o da infra√ß√£o]`},
{titulo:'Notifica√ß√£o Extrajudicial',area:'juridico',nivel:'basico',tag:'Notifica√ß√£o',desc:'Notifica√ß√£o formal com prazo e consequ√™ncias legais claras. Para cobrar d√≠vidas, rescindir contratos ou alertar sobre inadimpl√™ncia.',preview:'PERSONA: Voc√™ √© advogado(a) civilista com expertise em notifica√ß√µes extrajudiciais.\nTAREFA: Redigir notifica√ß√£o extrajudicial formal.\nEFEITO: Interrup√ß√£o da prescri√ß√£o...',prompt:`PERSONA: Voc√™ √© advogado(a) civilista com expertise em notifica√ß√µes extrajudiciais.\nTAREFA: Redigir notifica√ß√£o extrajudicial formal e com efeito legal.\nFUNDAMENTO: C√≥digo Civil e legisla√ß√£o aplic√°vel.\nESTRUTURA:\n1. Identifica√ß√£o do notificante e notificado\n2. Dos fatos que motivam a notifica√ß√£o\n3. Do direito violado\n4. Da exig√™ncia e prazo para cumprimento\n5. Das consequ√™ncias do descumprimento\n6. Da forma de resposta esperada${ANTI}\nDADOS:\n[INSIRA: partes, fato, valor ou obriga√ß√£o, prazo desejado]`},
{titulo:'Habeas Corpus Simples',area:'juridico',nivel:'avancado',tag:'Habeas Corpus',desc:'HC para pris√£o ilegal, excesso de prazo ou constrangimento ilegal. Para advogados criminalistas que precisam de agilidade.',preview:'PERSONA: Voc√™ √© advogado(a) criminalista com 20 anos de experi√™ncia.\nTAREFA: Redigir habeas corpus.\nBASE: CPP art. 647 e CF art. 5¬∫ LXVIII...',prompt:`PERSONA: Voc√™ √© advogado(a) criminalista com 20 anos de experi√™ncia.\nTAREFA: Redigir habeas corpus completo.\nBASE: CPP arts. 647-667 e CF art. 5¬∫, LXVIII.\nESTRUTURA:\n1. Autoridade coatora\n2. Identifica√ß√£o do paciente\n3. Dos fatos (pris√£o, excesso de prazo ou constrangimento)\n4. Do direito violado\n5. Do cabimento do HC\n6. Do pedido (liminar e m√©rito)${ANTI}\nDADOS:\n[INSIRA: paciente, autoridade coatora, fatos, tipo de constrangimento]`},
// M√âDICO
{titulo:'Carta de Encaminhamento M√©dico',area:'medico',nivel:'basico',tag:'Encaminhamento',desc:'Carta de encaminhamento clara e objetiva para especialistas. Padroniza a comunica√ß√£o entre m√©dicos e garante continuidade do cuidado.',preview:'PERSONA: Voc√™ √© m√©dico(a) com CRM ativo.\nTAREFA: Redigir carta de encaminhamento.\nESTRUTURA:\n1. Identifica√ß√£o do paciente\n2. Motivo do encaminhamento...',prompt:`PERSONA: Voc√™ √© m√©dico(a) com CRM ativo.\nTAREFA: Redigir carta de encaminhamento para especialista.\nESTRUTURA:\n1. Identifica√ß√£o do paciente (nome, idade, sexo)\n2. M√©dico solicitante e especialidade\n3. Hip√≥tese diagn√≥stica e CID-10\n4. Resumo cl√≠nico (anamnese, exames, tratamentos)\n5. Motivo do encaminhamento\n6. Urg√™ncia (rotina, preferencial, urgente)\n7. Assinatura e CRM${ANTI}\nDADOS:\n[INSIRA: paciente, diagn√≥stico, exames realizados, motivo]`},
{titulo:'Evolu√ß√£o M√©dica Hospitalar',area:'medico',nivel:'intermediario',tag:'Evolu√ß√£o',desc:'Evolu√ß√£o di√°ria estruturada com SOAP. Para m√©dicos plantonistas e hospitalistas que precisam de registros r√°pidos e completos.',preview:'PERSONA: Voc√™ √© m√©dico(a) hospitalista com experi√™ncia em UTI e enfermaria.\nTAREFA: Redigir evolu√ß√£o m√©dica di√°ria.\nFORMATO: SOAP (Subjetivo, Objetivo, Avalia√ß√£o, Plano)...',prompt:`PERSONA: Voc√™ √© m√©dico(a) hospitalista com experi√™ncia em UTI e enfermaria.\nTAREFA: Redigir evolu√ß√£o m√©dica di√°ria no formato SOAP.\nESTRUTURA:\nS ‚Äî Subjetivo (queixa do dia, sintomas relatados)\nO ‚Äî Objetivo (sinais vitais, exame f√≠sico, exames laboratoriais)\nA ‚Äî Avalia√ß√£o (diagn√≥stico e an√°lise cl√≠nica)\nP ‚Äî Plano (conduta, ajuste de medicamentos, solicita√ß√µes)${ANTI}\nDADOS:\n[INSIRA: nome do paciente, dia de interna√ß√£o, queixas, vitais, exames e diagn√≥stico]`},
{titulo:'Receita M√©dica com Orienta√ß√µes',area:'medico',nivel:'basico',tag:'Receita',desc:'Receita padronizada com posologia clara e orienta√ß√µes ao paciente. Evita erros e melhora ades√£o ao tratamento.',preview:'PERSONA: Voc√™ √© m√©dico(a) com CRM ativo.\nTAREFA: Redigir receita m√©dica com orienta√ß√µes ao paciente.\nESTRUTURA:\n1. Identifica√ß√£o\n2. Medicamentos...',prompt:`PERSONA: Voc√™ √© m√©dico(a) com CRM ativo.\nTAREFA: Redigir receita m√©dica com orienta√ß√µes claras.\nESTRUTURA:\n1. Identifica√ß√£o do paciente\n2. Medicamentos prescritos (nome, forma, dose, posologia, dura√ß√£o)\n3. Orienta√ß√µes ao paciente (como tomar, cuidados, intera√ß√µes)\n4. Retorno recomendado\n5. Dados do m√©dico, CRM e assinatura${ANTI}\nDADOS:\n[INSIRA: paciente, diagn√≥stico, medicamentos, posologia e orienta√ß√µes espec√≠ficas]`},
// NEG√ìCIOS
{titulo:'Plano de Neg√≥cios Completo',area:'negocios',nivel:'premium',tag:'Planejamento',desc:'Plano de neg√≥cios estruturado para capta√ß√£o de investimento ou abertura de empresa. Para empreendedores que precisam de credibilidade.',preview:'PERSONA: Voc√™ √© consultor(a) de neg√≥cios com MBA e 20 anos de experi√™ncia.\nTAREFA: Elaborar plano de neg√≥cios completo.\nESTRUTURA:\n1. Resumo Executivo...',prompt:`PERSONA: Voc√™ √© consultor(a) de neg√≥cios com MBA e 20 anos de experi√™ncia.\nTAREFA: Elaborar plano de neg√≥cios completo e profissional.\nESTRUTURA:\n1. Resumo Executivo\n2. Descri√ß√£o da empresa e modelo de neg√≥cio\n3. An√°lise de mercado (SWOT e concorr√™ncia)\n4. Plano de marketing e vendas\n5. Plano operacional\n6. Estrutura organizacional\n7. Proje√ß√µes financeiras (12-36 meses)\n8. Necessidade de investimento${ANTI}\nDADOS:\n[INSIRA: nome da empresa, segmento, produto/servi√ßo, p√∫blico-alvo e capital dispon√≠vel]`},
{titulo:'Ata de Reuni√£o Corporativa',area:'negocios',nivel:'basico',tag:'Ata',desc:'Ata de reuni√£o formal com decis√µes, respons√°veis e prazos. Para gestores que precisam de registros claros e rastre√°veis.',preview:'PERSONA: Voc√™ √© secret√°rio(a) executivo(a) corporativo s√™nior.\nTAREFA: Redigir ata de reuni√£o formal.\nESTRUTURA:\n1. Cabe√ßalho e participantes...',prompt:`PERSONA: Voc√™ √© secret√°rio(a) executivo(a) corporativo s√™nior.\nTAREFA: Redigir ata de reuni√£o formal e completa.\nESTRUTURA:\n1. Cabe√ßalho (empresa, data, local, hor√°rio)\n2. Participantes e cargos\n3. Pauta da reuni√£o\n4. Desenvolvimento (discuss√µes e delibera√ß√µes por ponto)\n5. Decis√µes tomadas (com respons√°vel e prazo)\n6. Pr√≥ximos passos e data da pr√≥xima reuni√£o\n7. Assinaturas${ANTI}\nDADOS:\n[INSIRA: empresa, data, participantes, pauta e decis√µes]`},
{titulo:'Script de Vendas por Telefone',area:'negocios',nivel:'intermediario',tag:'Vendas',desc:'Script completo para cold call com obje√ß√µes respondidas. Para vendedores que precisam aumentar a taxa de convers√£o.',preview:'PERSONA: Voc√™ √© especialista em vendas consultivas e inside sales.\nTAREFA: Criar script de vendas por telefone.\nFASES: Abertura ‚Üí Qualifica√ß√£o ‚Üí Apresenta√ß√£o ‚Üí Obje√ß√µes ‚Üí Fechamento...',prompt:`PERSONA: Voc√™ √© especialista em vendas consultivas e inside sales.\nTAREFA: Criar script completo de vendas por telefone.\nESTRUTURA:\nFASE 1: Abertura e rapport (30 segundos)\nFASE 2: Qualifica√ß√£o (perguntas SPIN)\nFASE 3: Apresenta√ß√£o do produto/servi√ßo\nFASE 4: Tratamento de obje√ß√µes (m√≠nimo 5 obje√ß√µes + respostas)\nFASE 5: Fechamento com urg√™ncia\nFASE 6: Follow-up p√≥s-chamada${ANTI}\nDADOS:\n[INSIRA: produto/servi√ßo, p√∫blico-alvo, principais diferenciais e obje√ß√µes comuns]`},
// MARKETING
{titulo:'Calend√°rio de Conte√∫do Mensal',area:'marketing',nivel:'intermediario',tag:'Conte√∫do',desc:'30 dias de posts com temas, formatos e CTAs para redes sociais. Para quem quer presen√ßa digital consistente sem esfor√ßo.',preview:'PERSONA: Voc√™ √© social media s√™nior especialista em marketing de conte√∫do.\nTAREFA: Criar calend√°rio de conte√∫do mensal.\nFORMATO: Tabela com data, tema, formato e CTA...',prompt:`PERSONA: Voc√™ √© social media s√™nior especialista em marketing de conte√∫do.\nTAREFA: Criar calend√°rio editorial de 30 dias completo.\nESTRUTURA POR DIA:\n- Data\n- Tema/assunto\n- Formato (carrossel, reels, stories, post est√°tico)\n- Headline principal\n- Legenda (resumo)\n- CTA (chamada para a√ß√£o)\n- Hashtags sugeridas\nBALANCEAMENTO: 60% conte√∫do educativo, 20% engajamento, 20% vendas${ANTI}\nDADOS:\n[INSIRA: nicho, produto/servi√ßo, p√∫blico e redes sociais ativas]`},
{titulo:'Briefing de Campanha Publicit√°ria',area:'marketing',nivel:'avancado',tag:'Campanha',desc:'Briefing completo para ag√™ncias ou designers. Elimina retrabalho e garante que a campanha bata no alvo certo.',preview:'PERSONA: Voc√™ √© diretor(a) de marketing com 20 anos de experi√™ncia em campanhas.\nTAREFA: Redigir briefing completo de campanha publicit√°ria...',prompt:`PERSONA: Voc√™ √© diretor(a) de marketing com 20 anos de experi√™ncia em campanhas.\nTAREFA: Redigir briefing completo de campanha publicit√°ria.\nESTRUTURA:\n1. Contexto e hist√≥rico da marca\n2. Objetivo da campanha (SMART)\n3. P√∫blico-alvo (persona detalhada)\n4. Mensagem principal e tom de voz\n5. Canais e formatos\n6. Or√ßamento e prazo\n7. KPIs e m√©tricas de sucesso\n8. Refer√™ncias visuais e de comunica√ß√£o${ANTI}\nDADOS:\n[INSIRA: marca, produto, objetivo, p√∫blico, or√ßamento e prazo]`},
{titulo:'Roteiro para V√≠deo de Vendas (VSL)',area:'marketing',nivel:'premium',tag:'VSL',desc:'Roteiro de v√≠deo de vendas com estrutura comprovada PAS + prova social + oferta. Para infoprodutores e neg√≥cios digitais.',preview:'PERSONA: Voc√™ √© roteirista especialista em VSL (Video Sales Letter).\nTAREFA: Criar roteiro de v√≠deo de vendas.\nESTRUTURA: Gancho ‚Üí Dor ‚Üí Promessa ‚Üí Prova ‚Üí Oferta...',prompt:`PERSONA: Voc√™ √© roteirista especialista em VSL (Video Sales Letter).\nTAREFA: Criar roteiro completo de v√≠deo de vendas de alta convers√£o.\nESTRUTURA:\n1. Gancho (primeiros 10 segundos que prendem)\n2. Identifica√ß√£o da dor (empatia)\n3. Apresenta√ß√£o do problema raiz\n4. Promessa de transforma√ß√£o\n5. Apresenta√ß√£o da solu√ß√£o\n6. Prova social (depoimentos e resultados)\n7. Oferta detalhada + b√¥nus\n8. Garantia\n9. Urg√™ncia e escassez\n10. CTA final${ANTI}\nDADOS:\n[INSIRA: produto, p√∫blico, transforma√ß√£o prometida, pre√ßo e b√¥nus]`},
// CONT√ÅBIL
{titulo:'Relat√≥rio Gerencial Financeiro',area:'contabil',nivel:'avancado',tag:'Relat√≥rio',desc:'Relat√≥rio gerencial com DRE, fluxo de caixa e an√°lise de indicadores. Para contadores e CFOs que apresentam resultados √† diretoria.',preview:'PERSONA: Voc√™ √© controller financeiro s√™nior.\nTAREFA: Elaborar relat√≥rio gerencial financeiro.\nESTRUTURA:\n1. DRE Gerencial\n2. Fluxo de Caixa...',prompt:`PERSONA: Voc√™ √© controller financeiro s√™nior com expertise em gest√£o.\nTAREFA: Elaborar relat√≥rio gerencial financeiro completo.\nESTRUTURA:\n1. Resumo executivo (highlights do per√≠odo)\n2. DRE Gerencial (receita, custos, despesas, EBITDA)\n3. Fluxo de caixa (operacional, investimento, financiamento)\n4. Indicadores financeiros (margem, liquidez, endividamento)\n5. Comparativo com per√≠odo anterior\n6. An√°lise de varia√ß√µes relevantes\n7. Recomenda√ß√µes${ANTI}\nDADOS:\n[INSIRA: empresa, per√≠odo, dados financeiros e indicadores]`},
{titulo:'Declara√ß√£o de Imposto de Renda PF',area:'contabil',nivel:'intermediario',tag:'IRPF',desc:'Orienta√ß√£o completa para organiza√ß√£o e declara√ß√£o do IRPF. Para contadores que atendem pessoas f√≠sicas na √©poca de IR.',preview:'PERSONA: Voc√™ √© contador(a) especialista em IRPF com 15 anos de experi√™ncia.\nTAREFA: Orientar e organizar dados para declara√ß√£o de IR...',prompt:`PERSONA: Voc√™ √© contador(a) especialista em IRPF com 15 anos de experi√™ncia.\nTAREFA: Organizar e orientar a declara√ß√£o completa de IRPF.\nESTRUTURA:\n1. Checklist de documentos necess√°rios\n2. Rendimentos tribut√°veis (emprego, aluguel, aut√¥nomo)\n3. Rendimentos isentos e n√£o tribut√°veis\n4. Dedu√ß√µes legais (sa√∫de, educa√ß√£o, dependentes)\n5. Bens e direitos\n6. D√≠vidas e √¥nus\n7. Fontes pagadoras e informes de rendimento\n8. Orienta√ß√µes para evitar malha fina${ANTI}\nDADOS:\n[INSIRA: perfil do contribuinte, fontes de renda e despesas dedut√≠veis]`},
// PSICOLOGIA
{titulo:'Plano Terap√™utico Individual',area:'psicologia',nivel:'avancado',tag:'Plano Terap√™utico',desc:'PTI estruturado com objetivos, metas e t√©cnicas por abordagem. Para psic√≥logos cl√≠nicos que querem organizar e documentar o tratamento.',preview:'PERSONA: Voc√™ √© psic√≥logo(a) cl√≠nico(a) com p√≥s-gradua√ß√£o em psicoterapia.\nTAREFA: Elaborar Plano Terap√™utico Individual.\nBASE: CRP e abordagem escolhida...',prompt:`PERSONA: Voc√™ √© psic√≥logo(a) cl√≠nico(a) com p√≥s-gradua√ß√£o em psicoterapia.\nTAREFA: Elaborar Plano Terap√™utico Individual (PTI) completo.\nESTRUTURA:\n1. Dados do paciente e demanda inicial\n2. Hip√≥tese diagn√≥stica e CID-10\n3. Abordagem te√≥rica utilizada\n4. Objetivos terap√™uticos (curto, m√©dio e longo prazo)\n5. Metas e indicadores de progresso\n6. T√©cnicas e interven√ß√µes planejadas\n7. Frequ√™ncia e dura√ß√£o estimada do tratamento\n8. Crit√©rios de encerramento${ANTI}\nDADOS:\n[INSIRA: paciente, demanda, diagn√≥stico e abordagem do psic√≥logo]`},
{titulo:'Devolutiva Psicol√≥gica ao Paciente',area:'psicologia',nivel:'intermediario',tag:'Devolutiva',desc:'Texto de devolutiva claro, emp√°tico e t√©cnico para entregar ao paciente. Para psic√≥logos que querem comunicar resultados de forma profissional.',preview:'PERSONA: Voc√™ √© psic√≥logo(a) cl√≠nico(a) experiente.\nTAREFA: Redigir devolutiva psicol√≥gica ao paciente.\nTOM: Emp√°tico, claro, t√©cnico e acess√≠vel...',prompt:`PERSONA: Voc√™ √© psic√≥logo(a) cl√≠nico(a) experiente.\nTAREFA: Redigir devolutiva psicol√≥gica ao paciente.\nPRINC√çPIOS: Linguagem clara, emp√°tica, t√©cnica e livre de jarg√µes excessivos.\nESTRUTURA:\n1. Introdu√ß√£o (contexto da avalia√ß√£o)\n2. Aspectos observados e avaliados\n3. Principais achados e diagn√≥stico (em linguagem acess√≠vel)\n4. Recursos e potencialidades do paciente\n5. √Åreas de aten√ß√£o e desenvolvimento\n6. Recomenda√ß√µes terap√™uticas\n7. Palavras de encorajamento e encerramento${ANTI}\nDADOS:\n[INSIRA: paciente, demanda, achados da avalia√ß√£o e diagn√≥stico]`},
// EDUCA√á√ÉO
{titulo:'Projeto Did√°tico Interdisciplinar',area:'educacao',nivel:'avancado',tag:'Projeto',desc:'Projeto pedag√≥gico que integra m√∫ltiplas disciplinas com BNCC. Para coordenadores e professores que querem inovar no ensino.',preview:'PERSONA: Voc√™ √© coordenador(a) pedag√≥gico com mestrado em educa√ß√£o.\nTAREFA: Elaborar projeto did√°tico interdisciplinar.\nBASE: BNCC e metodologias ativas...',prompt:`PERSONA: Voc√™ √© coordenador(a) pedag√≥gico com mestrado em educa√ß√£o.\nTAREFA: Elaborar projeto did√°tico interdisciplinar completo.\nBASE: BNCC e metodologias ativas.\nESTRUTURA:\n1. T√≠tulo e tema do projeto\n2. Justificativa e relev√¢ncia\n3. Disciplinas envolvidas e habilidades BNCC\n4. Objetivos gerais e espec√≠ficos\n5. Cronograma de atividades\n6. Metodologias ativas utilizadas (PBL, sala invertida, etc.)\n7. Recursos necess√°rios\n8. Avalia√ß√£o e produto final\n9. Refer√™ncias pedag√≥gicas${ANTI}\nDADOS:\n[INSIRA: escola, n√≠vel de ensino, tema, disciplinas e dura√ß√£o]`},
{titulo:'Prova e Gabarito Comentado',area:'educacao',nivel:'intermediario',tag:'Avalia√ß√£o',desc:'Elabora√ß√£o de prova com quest√µes objetivas e discursivas + gabarito comentado. Para professores que economizam tempo na elabora√ß√£o de avalia√ß√µes.',preview:'PERSONA: Voc√™ √© professor(a) especialista em avalia√ß√£o educacional.\nTAREFA: Elaborar prova completa com gabarito comentado.\nBASE: Taxonomia de Bloom...',prompt:`PERSONA: Voc√™ √© professor(a) especialista em avalia√ß√£o educacional.\nTAREFA: Elaborar prova completa com gabarito comentado.\nBASE: Taxonomia de Bloom e habilidades BNCC.\nESTRUTURA DA PROVA:\n1. Cabe√ßalho (escola, disciplina, data, turma, aluno)\n2. Instru√ß√µes gerais\n3. Quest√µes objetivas (m√∫ltipla escolha) ‚Äî n√≠vel crescente\n4. Quest√µes discursivas\n5. Valor por quest√£o e total\nGABARITO:\n- Resposta correta de cada quest√£o\n- Justificativa detalhada\n- Habilidade BNCC avaliada${ANTI}\nDADOS:\n[INSIRA: disciplina, ano, conte√∫do, n√≠vel de dificuldade e n√∫mero de quest√µes]`},
{titulo:'Parecer Descritivo do Aluno',area:'educacao',nivel:'basico',tag:'Parecer',desc:'Parecer qualitativo do desenvolvimento do aluno para boletim ou conselho de classe. Poupa tempo do professor e qualifica o registro.',preview:'PERSONA: Voc√™ √© professor(a) da educa√ß√£o b√°sica com vasta experi√™ncia.\nTAREFA: Redigir parecer descritivo individual do aluno.\nTOM: Objetivo, respeitoso e propositivo...',prompt:`PERSONA: Voc√™ √© professor(a) da educa√ß√£o b√°sica com vasta experi√™ncia.\nTAREFA: Redigir parecer descritivo individual do aluno.\nTOM: Objetivo, respeitoso, propositivo ‚Äî evitar r√≥tulos negativos.\nESTRUTURA:\n1. Aspectos cognitivos (aprendizagem e rendimento)\n2. Aspectos socioemocionais (comportamento e rela√ß√µes)\n3. Participa√ß√£o e engajamento\n4. Pontos de destaque\n5. √Åreas que precisam de aten√ß√£o\n6. Recomenda√ß√µes para fam√≠lia\n7. S√≠ntese do per√≠odo${ANTI}\nDADOS:\n[INSIRA: nome do aluno, ano, disciplina, observa√ß√µes e notas do professor]`},
// ENGENHARIA
{titulo:'Especifica√ß√£o T√©cnica de Materiais',area:'engenharia',nivel:'avancado',tag:'Especifica√ß√£o',desc:'Especifica√ß√£o t√©cnica detalhada para compras e execu√ß√£o de obras. Elimina ambiguidade e garante qualidade na constru√ß√£o.',preview:'PERSONA: Voc√™ √© engenheiro(a) civil s√™nior com CREA ativo.\nTAREFA: Elaborar especifica√ß√£o t√©cnica de materiais.\nBASE: ABNT NBR aplic√°vel...',prompt:`PERSONA: Voc√™ √© engenheiro(a) civil s√™nior com CREA ativo.\nTAREFA: Elaborar especifica√ß√£o t√©cnica de materiais para obra.\nBASE: ABNT NBR aplic√°veis.\nESTRUTURA:\n1. Objeto e escopo\n2. Refer√™ncias normativas\n3. Materiais especificados (nome, norma, caracter√≠sticas)\n4. Requisitos de qualidade e inspe√ß√£o\n5. Crit√©rios de aceita√ß√£o e rejei√ß√£o\n6. Armazenamento e manuseio\n7. Responsabilidades t√©cnicas${ANTI}\nDADOS:\n[INSIRA: tipo de obra, materiais, normas espec√≠ficas e requisitos de qualidade]`},
{titulo:'Memorial Descritivo de Obra',area:'engenharia',nivel:'avancado',tag:'Memorial',desc:'Memorial descritivo completo para projetos e aprova√ß√£o em prefeitura. Obrigat√≥rio para licenciamento e execu√ß√£o de obras.',preview:'PERSONA: Voc√™ √© engenheiro(a) civil com CREA ativo.\nTAREFA: Elaborar memorial descritivo de obra.\nBASE: NBR e legisla√ß√£o municipal...',prompt:`PERSONA: Voc√™ √© engenheiro(a) civil com CREA ativo.\nTAREFA: Elaborar memorial descritivo completo de obra.\nBASE: NBR e legisla√ß√£o municipal vigente.\nESTRUTURA:\n1. Identifica√ß√£o do empreendimento e propriet√°rio\n2. Localiza√ß√£o e caracter√≠sticas do terreno\n3. Descri√ß√£o do projeto (√°rea, pavimentos, usos)\n4. Sistemas construtivos e materiais\n5. Instala√ß√µes (el√©trica, hidr√°ulica, SPDA)\n6. Acessibilidade (NBR 9050)\n7. Tabela de √°reas\n8. Assinatura e ART${ANTI}\nDADOS:\n[INSIRA: endere√ßo, propriet√°rio, tipo de obra e caracter√≠sticas construtivas]`},
// TI
{titulo:'Pol√≠tica de Seguran√ßa da Informa√ß√£o',area:'ti',nivel:'premium',tag:'Seguran√ßa',desc:'PSI completa com diretrizes, responsabilidades e penalidades. Para empresas que precisam estar em conformidade com LGPD e ISO 27001.',preview:'PERSONA: Voc√™ √© especialista em seguran√ßa da informa√ß√£o com CISSP.\nTAREFA: Elaborar Pol√≠tica de Seguran√ßa da Informa√ß√£o.\nBASE: ISO 27001 e LGPD...',prompt:`PERSONA: Voc√™ √© especialista em seguran√ßa da informa√ß√£o com CISSP e 20 anos de experi√™ncia.\nTAREFA: Elaborar Pol√≠tica de Seguran√ßa da Informa√ß√£o (PSI) completa.\nBASE: ISO 27001, LGPD (Lei 13.709/18) e boas pr√°ticas.\nESTRUTURA:\n1. Objetivo e escopo\n2. Defini√ß√µes e conceitos\n3. Princ√≠pios de seguran√ßa da informa√ß√£o\n4. Responsabilidades (gest√£o, colaboradores, TI)\n5. Diretrizes de uso de sistemas e dispositivos\n6. Controle de acesso e senhas\n7. Incidentes de seguran√ßa e resposta\n8. Penalidades e san√ß√µes\n9. Revis√£o e vig√™ncia${ANTI}\nDADOS:\n[INSIRA: empresa, porte, sistemas utilizados e n√≠vel de criticidade dos dados]`},
{titulo:'User Story com Crit√©rios de Aceita√ß√£o',area:'ti',nivel:'intermediario',tag:'√Ågil',desc:'User stories no formato correto com crit√©rios de aceita√ß√£o e defini√ß√£o de pronto. Para times √°geis que querem clareza no backlog.',preview:'PERSONA: Voc√™ √© Product Owner s√™nior com experi√™ncia em metodologias √°geis.\nTAREFA: Escrever user stories completas.\nFORMATO: "Como [persona], quero [a√ß√£o], para [benef√≠cio]"...',prompt:`PERSONA: Voc√™ √© Product Owner s√™nior com experi√™ncia em metodologias √°geis (Scrum/Kanban).\nTAREFA: Escrever user stories completas e bem definidas.\nFORMATO: "Como [persona], quero [a√ß√£o], para [benef√≠cio/valor]".\nCOMPOSI√á√ÉO DE CADA STORY:\n1. T√≠tulo da funcionalidade\n2. User story no formato padr√£o\n3. Contexto e motiva√ß√£o\n4. Crit√©rios de Aceita√ß√£o (Given/When/Then)\n5. Defini√ß√£o de Pronto (DoD)\n6. Estimativa de complexidade\n7. Depend√™ncias e riscos${ANTI}\nDADOS:\n[INSIRA: persona, funcionalidade desejada, contexto do produto e regras de neg√≥cio]`},
{titulo:'Plano de Testes de Software',area:'ti',nivel:'avancado',tag:'QA',desc:'Plano de testes com casos de teste, crit√©rios e cobertura. Para equipes de QA que precisam de documenta√ß√£o profissional.',preview:'PERSONA: Voc√™ √© QA Engineer s√™nior com expertise em testes de software.\nTAREFA: Elaborar plano de testes completo.\nBASE: ISTQB e boas pr√°ticas...',prompt:`PERSONA: Voc√™ √© QA Engineer s√™nior com expertise em testes de software.\nTAREFA: Elaborar plano de testes completo.\nBASE: ISTQB e boas pr√°ticas de qualidade.\nESTRUTURA:\n1. Escopo e objetivos dos testes\n2. Tipos de testes (funcional, regress√£o, integra√ß√£o, performance)\n3. Ambiente e ferramentas de teste\n4. Crit√©rios de entrada e sa√≠da\n5. Casos de teste (ID, descri√ß√£o, pr√©-condi√ß√£o, passos, resultado esperado)\n6. Matriz de rastreabilidade\n7. Crit√©rios de sucesso e falha\n8. Responsabilidades e cronograma${ANTI}\nDADOS:\n[INSIRA: sistema, funcionalidades, ambiente e requisitos]`},
// OUTRO
{titulo:'Carta de Apresenta√ß√£o Profissional',area:'outro',nivel:'basico',tag:'Carreira',desc:'Carta de apresenta√ß√£o personalizada que destaca pontos fortes e encanta recrutadores. Para quem quer se diferenciar em processos seletivos.',preview:'PERSONA: Voc√™ √© especialista em recursos humanos e desenvolvimento de carreira.\nTAREFA: Redigir carta de apresenta√ß√£o profissional impactante...',prompt:`PERSONA: Voc√™ √© especialista em recursos humanos e desenvolvimento de carreira.\nTAREFA: Redigir carta de apresenta√ß√£o profissional impactante.\nESTRUTURA:\n1. Abertura marcante (gancho que prende aten√ß√£o)\n2. Por que me interesso pela empresa e vaga\n3. Principais conquistas e diferenciais (3 pontos)\n4. Habilidades alinhadas √† vaga\n5. Proposta de valor para a empresa\n6. Encerramento com CTA (pedir entrevista)${ANTI}\nDADOS:\n[INSIRA: nome, cargo desejado, empresa, experi√™ncias e habilidades principais]`},
{titulo:'Curr√≠culo Profissional Impactante',area:'outro',nivel:'basico',tag:'Carreira',desc:'Curr√≠culo estruturado no padr√£o ATS e visualmente profissional. Para quem quer passar nos filtros de RH e impressionar recrutadores.',preview:'PERSONA: Voc√™ √© especialista em recrutamento e sele√ß√£o com 20 anos de experi√™ncia.\nTAREFA: Redigir curr√≠culo profissional completo.\nFORMATO: ATS-friendly e impactante...',prompt:`PERSONA: Voc√™ √© especialista em recrutamento e sele√ß√£o com 20 anos de experi√™ncia.\nTAREFA: Redigir curr√≠culo profissional completo.\nFORMATO: ATS-friendly (compat√≠vel com sistemas de triagem autom√°tica).\nESTRUTURA:\n1. Cabe√ßalho (nome, contatos, LinkedIn)\n2. Resumo profissional (3-4 linhas de impacto)\n3. Experi√™ncia profissional (cargo, empresa, per√≠odo, resultados em n√∫meros)\n4. Forma√ß√£o acad√™mica\n5. Cursos e certifica√ß√µes relevantes\n6. Compet√™ncias t√©cnicas e soft skills\n7. Idiomas\n8. Projetos e publica√ß√µes (se aplic√°vel)${ANTI}\nDADOS:\n[INSIRA: nome, experi√™ncias, forma√ß√£o, habilidades e vaga desejada]`},
{titulo:'Plano de Comunica√ß√£o em Crise',area:'outro',nivel:'premium',tag:'Gest√£o de Crise',desc:'Manual de resposta a crise com comunicados, porta-voz e timeline. Para empresas que precisam proteger reputa√ß√£o em situa√ß√µes cr√≠ticas.',preview:'PERSONA: Voc√™ √© especialista em gest√£o de crises e rela√ß√µes p√∫blicas.\nTAREFA: Elaborar plano de comunica√ß√£o em crise.\nESTRUTURA: Mapeamento ‚Üí Resposta ‚Üí Comunicados...',prompt:`PERSONA: Voc√™ √© especialista em gest√£o de crises e rela√ß√µes p√∫blicas com 20 anos de experi√™ncia.\nTAREFA: Elaborar plano de comunica√ß√£o em crise completo.\nESTRUTURA:\n1. Mapeamento de riscos e cen√°rios de crise\n2. Defini√ß√£o do comit√™ de crise e responsabilidades\n3. Fluxo de decis√£o e escalonamento\n4. Diretrizes de comunica√ß√£o (tom, velocidade, canais)\n5. Templates de comunicados por tipo de crise\n6. Orienta√ß√µes para porta-voz\n7. Monitoramento e controle de narrativa\n8. Avalia√ß√£o p√≥s-crise${ANTI}\nDADOS:\n[INSIRA: empresa, tipo de crise, stakeholders e canais de comunica√ß√£o]`},
{titulo:'Descri√ß√£o de Cargo e Perfil Profissional',area:'negocios',nivel:'basico',tag:'RH',desc:'Job description atrativo que filtra candidatos certos e afasta os errados. Para RH e gestores que querem contratar com efici√™ncia.',preview:'PERSONA: Voc√™ √© especialista em atra√ß√£o e sele√ß√£o de talentos.\nTAREFA: Redigir descri√ß√£o de cargo completa e atrativa.\nESTRUTURA:\n1. T√≠tulo e n√≠vel...',prompt:`PERSONA: Voc√™ √© especialista em atra√ß√£o e sele√ß√£o de talentos.\nTAREFA: Redigir descri√ß√£o de cargo completa e atrativa.\nESTRUTURA:\n1. T√≠tulo e n√≠vel do cargo\n2. Sobre a empresa (3 linhas de cultura)\n3. Miss√£o do cargo (para que existe)\n4. Responsabilidades e atividades principais\n5. Requisitos obrigat√≥rios\n6. Requisitos desej√°veis\n7. Soft skills valorizadas\n8. Benef√≠cios e condi√ß√µes\n9. Localiza√ß√£o e modelo de trabalho (presencial/h√≠brido/remoto)${ANTI}\nDADOS:\n[INSIRA: empresa, cargo, √°rea, responsabilidades e requisitos]`},
{titulo:'Pol√≠tica de Privacidade LGPD',area:'juridico',nivel:'avancado',tag:'LGPD',desc:'Pol√≠tica de privacidade conforme LGPD para sites e apps. Para empresas que precisam estar em conformidade e evitar multas da ANPD.',preview:'PERSONA: Voc√™ √© advogado(a) especialista em direito digital e LGPD.\nTAREFA: Redigir Pol√≠tica de Privacidade conforme LGPD.\nBASE: Lei 13.709/2018...',prompt:`PERSONA: Voc√™ √© advogado(a) especialista em direito digital e LGPD.\nTAREFA: Redigir Pol√≠tica de Privacidade completa e conforme LGPD.\nBASE: Lei 13.709/2018 e regulamentos da ANPD.\nESTRUTURA:\n1. Identifica√ß√£o do controlador de dados\n2. Quais dados s√£o coletados\n3. Finalidade do tratamento de dados\n4. Base legal para tratamento\n5. Compartilhamento com terceiros\n6. Reten√ß√£o e descarte dos dados\n7. Direitos do titular (acesso, corre√ß√£o, exclus√£o)\n8. Seguran√ßa das informa√ß√µes\n9. Cookies e tecnologias similares\n10. Contato do DPO e canal de atendimento${ANTI}\nDADOS:\n[INSIRA: empresa, site/app, tipos de dados coletados e finalidades]`},
{titulo:'Diagn√≥stico Nutricional e Plano Alimentar',area:'medico',nivel:'premium',tag:'Nutri√ß√£o',desc:'Diagn√≥stico nutricional completo e plano alimentar individualizado. Para nutricionistas que querem agilidade sem perder a qualidade t√©cnica.',preview:'PERSONA: Voc√™ √© nutricionista com CRN ativo e 15 anos de experi√™ncia cl√≠nica.\nTAREFA: Elaborar diagn√≥stico nutricional e plano alimentar.\nBASE: DRIs e diretrizes CFN...',prompt:`PERSONA: Voc√™ √© nutricionista com CRN ativo e 15 anos de experi√™ncia cl√≠nica.\nTAREFA: Elaborar diagn√≥stico nutricional completo e plano alimentar individualizado.\nBASE: DRIs, TACO e diretrizes do CFN.\nESTRUTURA:\n1. Identifica√ß√£o e dados antropom√©tricos (peso, altura, IMC)\n2. Anamnese alimentar e estilo de vida\n3. Diagn√≥stico nutricional\n4. Objetivos do tratamento nutricional\n5. Necessidades energ√©ticas e distribui√ß√£o de macronutrientes\n6. Plano alimentar (caf√©, lanche, almo√ßo, lanche, jantar)\n7. Orienta√ß√µes gerais e restri√ß√µes\n8. Metas e retorno${ANTI}\nDADOS:\n[INSIRA: paciente, peso, altura, objetivo, restri√ß√µes e h√°bitos alimentares]`},
{titulo:'Nota T√©cnica de Engenharia',area:'engenharia',nivel:'intermediario',tag:'Nota T√©cnica',desc:'Nota t√©cnica para resposta a questionamentos, esclarecimentos ou embasamento de decis√µes. Para engenheiros em fiscaliza√ß√µes ou projetos.',preview:'PERSONA: Voc√™ √© engenheiro(a) com CREA ativo.\nTAREFA: Elaborar nota t√©cnica.\nESTRUTURA:\n1. Objeto e finalidade\n2. Fundamenta√ß√£o t√©cnica...',prompt:`PERSONA: Voc√™ √© engenheiro(a) com CREA ativo.\nTAREFA: Elaborar nota t√©cnica completa e fundamentada.\nESTRUTURA:\n1. Identifica√ß√£o (emitente, destinat√°rio, data, n√∫mero)\n2. Objeto e finalidade da nota\n3. Contexto e hist√≥rico\n4. An√°lise t√©cnica\n5. Fundamenta√ß√£o (normas, c√°lculos, refer√™ncias)\n6. Conclus√µes\n7. Recomenda√ß√µes\n8. Assinatura e ART${ANTI}\nDADOS:\n[INSIRA: engenheiro, objeto, contexto t√©cnico e normas aplic√°veis]`},
{titulo:'Storytelling de Marca (Brand Story)',area:'marketing',nivel:'intermediario',tag:'Branding',desc:'Hist√≥ria da marca que conecta emocionalmente com o p√∫blico e cria identidade. Para empreendedores que querem uma marca que as pessoas amam.',preview:'PERSONA: Voc√™ √© estrategista de branding e especialista em storytelling.\nTAREFA: Criar a hist√≥ria da marca (brand story).\nESTRUTURA: Origem ‚Üí Conflito ‚Üí Miss√£o ‚Üí Transforma√ß√£o...',prompt:`PERSONA: Voc√™ √© estrategista de branding e especialista em storytelling.\nTAREFA: Criar a hist√≥ria da marca (brand story) completa e emocionalmente conectada.\nESTRUTURA:\n1. A origem (por que surgiu a marca?)\n2. O fundador e sua jornada\n3. O problema que a marca resolve\n4. A virada e o momento de clareza\n5. A miss√£o, vis√£o e valores\n6. O impacto esperado no mundo\n7. A promessa para o cliente\n8. Tom de voz e personalidade da marca${ANTI}\nDADOS:\n[INSIRA: nome da marca, fundador, produto/servi√ßo, hist√≥ria de origem e valores]`},
];

const TODOS_PROMPTS_INICIAIS = [...PROMPTS_ORIGINAIS, ...PROMPTS_NOVOS];

// ‚îÄ‚îÄ ESTADO ‚îÄ‚îÄ
let todosPrompts = [];
let areaAtiva = 'todos';
let pedidoAtual = null;
let entregaOpc = 'email';
let pedidoAdminAtual = null;

// ‚îÄ‚îÄ FIREBASE: CARREGAR PROMPTS ‚îÄ‚îÄ
function carregarPrompts() {
    db.ref('promptus_prompts').once('value').then(snap => {
        if (!snap.exists()) {
            TODOS_PROMPTS_INICIAIS.forEach(p => {
                db.ref('promptus_prompts').push({ ...p, criadoEm: Date.now() });
            });
            setTimeout(carregarPrompts, 2500);
            return;
        }
        todosPrompts = [];
        snap.forEach(child => {
            todosPrompts.push({ id: child.key, ...child.val() });
        });
        renderFiltros();
        renderPrompts();
        renderAdminPrompts();
    });
}

// ‚îÄ‚îÄ RENDER FILTROS ‚îÄ‚îÄ
function renderFiltros() {
    const wrap = document.getElementById('filtros-wrap');
    if (!wrap) return;
    wrap.innerHTML = '';
    AREAS.forEach(a => {
        const btn = document.createElement('button');
        btn.className = 'filtro' + (a.key === areaAtiva ? ' ativo' : '');
        btn.innerText = a.emoji + ' ' + a.label;
        btn.onclick = () => { areaAtiva = a.key; renderFiltros(); renderPrompts(); };
        wrap.appendChild(btn);
    });
}

// ‚îÄ‚îÄ RENDER PROMPTS ‚îÄ‚îÄ
function renderPrompts() {
    const busca = (document.getElementById('busca')?.value || '').toLowerCase();
    const grid = document.getElementById('prompts-grid');
    const lbl = document.getElementById('grid-label');
    if (!grid) return;

    let lista = todosPrompts.filter(p => {
        const mA = areaAtiva === 'todos' || p.area === areaAtiva;
        const mB = !busca || p.titulo.toLowerCase().includes(busca) || p.desc.toLowerCase().includes(busca) || p.tag.toLowerCase().includes(busca);
        return mA && mB;
    });

    const areaLabel = AREAS.find(a => a.key === areaAtiva);
    if (lbl) lbl.innerHTML = (areaAtiva === 'todos' ? 'Todos os Prompts' : (areaLabel?.emoji + ' ' + areaLabel?.label)) + ' <span style="opacity:0.4;font-size:10px;">(' + lista.length + ')</span>';

    grid.innerHTML = '';
    if (lista.length === 0) { grid.innerHTML = '<div class="vazio">Nenhum prompt encontrado.</div>'; return; }

    lista.forEach((p, i) => {
        const preco = PRECOS_LABEL[p.nivel] || 'R$19,90';
        const nivelTag = NIVEIS_TAG[p.nivel] || '';
        const nivelLabel = NIVEIS_LABEL[p.nivel] || '';
        const areaInfo = AREAS.find(a => a.key === p.area);
        const card = document.createElement('div');
        card.className = 'pcard';
        card.style.animationDelay = (i * 0.03) + 's';
        card.innerHTML = `
            <div class="pcard-top">
                <div class="pcard-area">${areaInfo?.emoji || ''} ${areaInfo?.label || ''}</div>
                <div class="pcard-titulo">${p.titulo}</div>
                <div class="pcard-desc">${p.desc}</div>
            </div>
            <div class="pcard-preview">
                <div class="pcard-preview-texto">${p.preview || ''}</div>
                <div class="pcard-preview-blur">
                    <div class="lock-pill">üîí Desbloqueado ap√≥s compra</div>
                </div>
            </div>
            <div class="pcard-bottom">
                <div class="pcard-tags">
                    <span class="tag ${nivelTag}">${nivelLabel}</span>
                    <span class="tag">${p.tag}</span>
                </div>
                <div style="display:flex;align-items:center;gap:12px;">
                    <span class="pcard-preco">${preco}</span>
                    <button class="btn-comprar" onclick='abrirCompra(${JSON.stringify(p).replace(/'/g,"&apos;")})'>COMPRAR</button>
                </div>
            </div>`;
        grid.appendChild(card);
    });
}
function filtrarPrompts() { renderPrompts(); }

// ‚îÄ‚îÄ COMPRA ‚îÄ‚îÄ
function abrirCompra(p) {
    pedidoAtual = p;
    document.getElementById('s1-titulo').innerText = p.titulo;
    document.getElementById('s1-erro').innerText = '';
    document.getElementById('s1-nome').value = '';
    document.getElementById('s1-email').value = '';
    document.getElementById('s1-whats').value = '';
    selecionarEntrega('email');
    mostrarStep('step1');
    document.getElementById('overlay-compra').classList.add('show');
}

function selecionarEntrega(tipo) {
    entregaOpc = tipo;
    ['email','whats','ambos'].forEach(t => {
        document.getElementById('opt-'+t).classList.toggle('sel', t === tipo);
    });
}

function irParaPix() {
    const nome = document.getElementById('s1-nome').value.trim();
    const email = document.getElementById('s1-email').value.trim();
    const whats = document.getElementById('s1-whats').value.trim();
    const erro = document.getElementById('s1-erro');

    if (!nome) { erro.innerText = 'INFORME SEU NOME'; return; }
    if (!email) { erro.innerText = 'INFORME SEU E-MAIL'; return; }
    if (!whats) { erro.innerText = 'INFORME SEU WHATSAPP'; return; }

    document.getElementById('s2-titulo').innerText = pedidoAtual.titulo;
    document.getElementById('s2-preco').innerText = PRECOS_LABEL[pedidoAtual.nivel] || 'R$19,90';
    const entregaTexto = entregaOpc === 'email' ? 'E-mail' : entregaOpc === 'whats' ? 'WhatsApp' : 'E-mail e WhatsApp';
    document.getElementById('s2-entrega').innerText = entregaTexto;
    mostrarStep('step2');
}

function abrirWhatsComprovante(e) {
    e.preventDefault();
    const nome = document.getElementById('s1-nome').value.trim() || 'Cliente';
    const prompt = pedidoAtual?.titulo || 'Prompt';
    const preco = PRECOS_LABEL[pedidoAtual?.nivel] || '';
    const msg = encodeURIComponent(`Ol√°! Acabei de fazer o pagamento via Pix.\n\nNome: ${nome}\nPrompt comprado: ${prompt}\nValor: ${preco}\n\nSegue o comprovante em anexo. üìé`);
    window.open(`https://wa.me/${WHATS_COMPROVANTE}?text=${msg}`, '_blank');
}

function confirmarPagamento() {
    const nome = document.getElementById('s1-nome').value.trim();
    const email = document.getElementById('s1-email').value.trim();
    const whats = document.getElementById('s1-whats').value.trim();
    const entregaTexto = entregaOpc === 'email' ? 'E-mail' : entregaOpc === 'whats' ? 'WhatsApp' : 'E-mail e WhatsApp';

    const pedido = {
        promptId: pedidoAtual.id,
        promptTitulo: pedidoAtual.titulo,
        promptCompleto: pedidoAtual.prompt,
        nome, email, whats,
        entrega: entregaTexto,
        preco: PRECOS_LABEL[pedidoAtual.nivel],
        status: 'pendente',
        criadoEm: Date.now()
    };

    db.ref('promptus_pedidos').push(pedido).then(() => {
        document.getElementById('s3-entrega').innerText = entregaTexto;
        mostrarStep('step3');
    }).catch(() => showToast('ERRO AO REGISTRAR. TENTE NOVAMENTE.'));
}

function mostrarStep(id) {
    ['step1','step2','step3'].forEach(s => {
        document.getElementById(s).classList.toggle('ativo', s === id);
    });
}

function fecharOverlay() {
    document.getElementById('overlay-compra').classList.remove('show');
    setTimeout(() => mostrarStep('step1'), 300);
}

function copiarPix() {
    const btn = document.getElementById('btn-copiar-pix');
    const ok = () => { btn.innerText = '‚úì CHAVE COPIADA!'; btn.classList.add('copied'); showToast('CHAVE PIX COPIADA!'); setTimeout(() => { btn.innerText = 'üìã COPIAR CHAVE PIX'; btn.classList.remove('copied'); }, 3000); };
    if (navigator.clipboard) navigator.clipboard.writeText(PIX_CHAVE).then(ok).catch(() => fallback(PIX_CHAVE, ok));
    else fallback(PIX_CHAVE, ok);
}

// ‚îÄ‚îÄ ADMIN ‚îÄ‚îÄ
function irParaAdminLogin() { mostrarPagina('page-admin-login'); }

function loginAdmin() {
    const senha = document.getElementById('admin-senha').value;
    if (senha === ADMIN_SENHA) {
        document.getElementById('admin-erro').innerText = '';
        mostrarPagina('page-admin');
        carregarPedidos();
        renderAdminPrompts();
    } else {
        document.getElementById('admin-erro').innerText = 'SENHA INCORRETA';
    }
}

function logoutAdmin() { mostrarPagina('page-admin-login'); }
function irParaLoja() { mostrarPagina('page-loja'); }

function mudarTab(tab, el) {
    document.querySelectorAll('.admin-tab').forEach(t => t.classList.remove('ativo'));
    document.querySelectorAll('.admin-panel').forEach(p => p.classList.remove('ativo'));
    el.classList.add('ativo');
    document.getElementById('panel-' + tab).classList.add('ativo');
    if (tab === 'pedidos') carregarPedidos();
    if (tab === 'prompts') renderAdminPrompts();
}

function carregarPedidos() {
    db.ref('promptus_pedidos').orderByChild('criadoEm').once('value').then(snap => {
        const grid = document.getElementById('pedidos-grid');
        if (!grid) return;
        if (!snap.exists()) { grid.innerHTML = '<div style="text-align:center;padding:40px;color:var(--sub);">Nenhum pedido ainda.</div>'; return; }

        let pedidos = [];
        snap.forEach(c => pedidos.push({ id: c.key, ...c.val() }));
        pedidos.reverse();

        const pendentes = pedidos.filter(p => p.status === 'pendente').length;
        const receita = pedidos.reduce((acc, p) => acc + parseFloat((p.preco || 'R$0').replace('R$','').replace(',','.') || 0), 0);
        document.getElementById('stat-pedidos').innerText = pedidos.length;
        document.getElementById('stat-pendentes').innerText = pendentes;
        document.getElementById('stat-receita').innerText = 'R$' + receita.toFixed(2).replace('.',',');

        grid.innerHTML = '';
        pedidos.forEach(p => {
            const div = document.createElement('div');
            div.className = 'pedido-card';
            const data = new Date(p.criadoEm).toLocaleString('pt-BR');
            div.innerHTML = `
                <div class="pedido-info">
                    <h3>${p.promptTitulo}</h3>
                    <div class="pedido-meta">
                        <span>üë§ ${p.nome}</span>
                        <span>üìß ${p.email}</span>
                        <span>üí¨ ${p.whats}</span>
                        <span>üì¶ ${p.entrega}</span>
                        <span>üïê ${data}</span>
                    </div>
                </div>
                <div style="display:flex;flex-direction:column;align-items:flex-end;gap:8px;">
                    <span class="pedido-preco">${p.preco}</span>
                    <span class="pedido-status ${p.status === 'pendente' ? 'status-pendente' : 'status-entregue'}">${p.status === 'pendente' ? '‚è≥ Pendente' : '‚úÖ Entregue'}</span>
                    <div class="pedido-acoes">
                        <button class="btn-ver-pedido" onclick='abrirPedidoAdmin(${JSON.stringify(p).replace(/'/g,"&apos;")})'>VER / ENTREGAR</button>
                    </div>
                </div>`;
            grid.appendChild(div);
        });
    });
}

function abrirPedidoAdmin(p) {
    pedidoAdminAtual = p;
    document.getElementById('op-prompt').innerText = p.promptTitulo;
    document.getElementById('op-nome').innerText = p.nome;
    document.getElementById('op-email').innerText = p.email;
    document.getElementById('op-whats').innerText = p.whats;
    document.getElementById('op-entrega').innerText = p.entrega;
    document.getElementById('op-preco').innerText = p.preco;
    document.getElementById('op-data').innerText = new Date(p.criadoEm).toLocaleString('pt-BR');
    document.getElementById('op-prompt-completo').innerText = p.promptCompleto || 'Prompt n√£o encontrado.';
    document.getElementById('btn-marcar-entregue').style.display = p.status === 'entregue' ? 'none' : 'block';
    document.getElementById('overlay-pedido').classList.add('show');
}

function fecharOverlayPedido() { document.getElementById('overlay-pedido').classList.remove('show'); }

function copiarPromptAdmin() {
    const texto = document.getElementById('op-prompt-completo').innerText;
    const btn = document.getElementById('btn-copiar-prompt-admin');
    const ok = () => { btn.innerText = '‚úì PROMPT COPIADO! AGORA ENVIE PARA O CLIENTE.'; btn.classList.add('green'); showToast('PROMPT COPIADO!'); setTimeout(() => { btn.innerText = 'üìã COPIAR PROMPT PARA ENVIAR'; btn.classList.remove('green'); }, 4000); };
    if (navigator.clipboard) navigator.clipboard.writeText(texto).then(ok).catch(() => fallback(texto, ok));
    else fallback(texto, ok);
}

function marcarEntregue() {
    if (!pedidoAdminAtual) return;
    db.ref('promptus_pedidos/' + pedidoAdminAtual.id).update({ status: 'entregue' }).then(() => {
        showToast('PEDIDO MARCADO COMO ENTREGUE!');
        fecharOverlayPedido();
        carregarPedidos();
    });
}

function salvarPrompt() {
    const titulo = document.getElementById('f-titulo').value.trim();
    const area = document.getElementById('f-area').value;
    const nivel = document.getElementById('f-nivel').value;
    const tag = document.getElementById('f-tag').value.trim();
    const desc = document.getElementById('f-desc').value.trim();
    const preview = document.getElementById('f-preview').value.trim();
    const prompt = document.getElementById('f-prompt').value.trim();
    const erro = document.getElementById('f-erro');

    if (!titulo || !tag || !desc || !preview || !prompt) { erro.innerText = 'PREENCHA TODOS OS CAMPOS'; return; }

    db.ref('promptus_prompts').push({ titulo, area, nivel, tag, desc, preview, prompt, criadoEm: Date.now() }).then(() => {
        showToast('PROMPT SALVO COM SUCESSO!');
        erro.innerText = '';
        ['f-titulo','f-tag','f-desc','f-preview','f-prompt'].forEach(id => document.getElementById(id).value = '');
        carregarPrompts();
    }).catch(() => { erro.innerText = 'ERRO AO SALVAR. TENTE NOVAMENTE.'; });
}

function renderAdminPrompts() {
    const grid = document.getElementById('admin-prompts-grid');
    if (!grid) return;
    if (todosPrompts.length === 0) { grid.innerHTML = '<div class="vazio">Nenhum prompt cadastrado.</div>'; return; }
    grid.innerHTML = '';
    todosPrompts.forEach(p => {
        const areaInfo = AREAS.find(a => a.key === p.area);
        const card = document.createElement('div');
        card.className = 'pcard';
        card.innerHTML = `
            <div class="pcard-top">
                <div class="pcard-area">${areaInfo?.emoji || ''} ${areaInfo?.label || ''}</div>
                <div class="pcard-titulo">${p.titulo}</div>
                <div class="pcard-desc" style="font-size:11px;">${p.desc}</div>
            </div>
            <div class="pcard-bottom">
                <span class="tag ${NIVEIS_TAG[p.nivel] || ''}">${NIVEIS_LABEL[p.nivel] || ''}</span>
                <span class="pcard-preco">${PRECOS_LABEL[p.nivel] || ''}</span>
            </div>`;
        grid.appendChild(card);
    });
}

// ‚îÄ‚îÄ NAVEGA√á√ÉO ‚îÄ‚îÄ
function mostrarPagina(id) {
    document.querySelectorAll('.page').forEach(p => { p.classList.remove('ativa'); p.style.display = 'none'; });
    const pg = document.getElementById(id);
    pg.style.display = 'block';
    pg.classList.add('ativa');
    window.scrollTo(0, 0);
}

// ‚îÄ‚îÄ UTILS ‚îÄ‚îÄ
function fallback(texto, cb) {
    const ta = document.createElement('textarea');
    ta.value = texto; document.body.appendChild(ta); ta.select();
    try { document.execCommand('copy'); cb(); } catch(e){}
    document.body.removeChild(ta);
}
function showToast(msg) {
    const t = document.getElementById('toast');
    t.innerText = msg; t.classList.add('show');
    setTimeout(() => t.classList.remove('show'), 3000);
}
document.getElementById('overlay-compra').addEventListener('click', e => { if (e.target === document.getElementById('overlay-compra')) fecharOverlay(); });
document.getElementById('overlay-pedido').addEventListener('click', e => { if (e.target === document.getElementById('overlay-pedido')) fecharOverlayPedido(); });

// ‚îÄ‚îÄ INIT ‚îÄ‚îÄ
carregarPrompts();
</script>
</body>
</html>
