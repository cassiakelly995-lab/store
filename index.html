<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PROMPTUS Store ‚Äî Prompts Profissionais</title>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,700;0,900;1,400;1,700&family=DM+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <style>
        :root {
            --bg: #030305; --card: #0a0a10; --card2: #0f0f18;
            --gold: #bf953f; --gold-light: #fcf6ba;
            --gold-grad: linear-gradient(135deg, #bf953f 0%, #fcf6ba 50%, #b38728 100%);
            --border: rgba(191,149,63,0.14); --border-h: rgba(191,149,63,0.4);
            --text: #f0ede8; --sub: rgba(240,237,232,0.45); --accent: rgba(191,149,63,0.07);
            --green: #27ae60; --red: #e74c3c;
        }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        html { scroll-behavior: smooth; }
        body { background: var(--bg); color: var(--text); font-family: 'DM Sans', sans-serif; min-height: 100vh; overflow-x: hidden; }
        body::before { content: ''; position: fixed; inset: 0; background: radial-gradient(ellipse 70% 50% at 50% -10%, rgba(191,149,63,0.05) 0%, transparent 60%); pointer-events: none; z-index: 0; }

        .page { display: none; min-height: 100vh; position: relative; z-index: 1; }
        .page.ativa { display: block; }

        .navbar { display: flex; align-items: center; justify-content: space-between; padding: 18px 48px; border-bottom: 1px solid var(--border); background: rgba(3,3,5,0.9); backdrop-filter: blur(20px); position: sticky; top: 0; z-index: 200; flex-wrap: wrap; gap: 12px; }
        .nav-logo { font-family: 'Cormorant Garamond', serif; font-size: 26px; font-weight: 900; background: var(--gold-grad); -webkit-background-clip: text; -webkit-text-fill-color: transparent; cursor: pointer; }
        .nav-logo span { font-size: 11px; font-family: 'DM Sans', sans-serif; font-weight: 600; letter-spacing: 3px; color: var(--sub); -webkit-text-fill-color: var(--sub); }
        .nav-right { display: flex; align-items: center; gap: 14px; flex-wrap: wrap; }
        .nav-btn { background: none; border: 1px solid var(--border); color: var(--sub); padding: 8px 18px; border-radius: 3px; font-family: 'DM Sans', sans-serif; font-size: 11px; font-weight: 600; letter-spacing: 1px; cursor: pointer; transition: 0.3s; text-transform: uppercase; }
        .nav-btn:hover { border-color: var(--gold); color: var(--gold); }

        .hero { padding: 80px 48px 60px; max-width: 1160px; margin: 0 auto; text-align: center; }
        .hero-kicker { font-size: 9px; font-weight: 700; letter-spacing: 6px; color: var(--gold); text-transform: uppercase; margin-bottom: 18px; }
        .hero-titulo { font-family: 'Cormorant Garamond', serif; font-size: clamp(38px, 6vw, 72px); font-weight: 900; line-height: 1.1; margin-bottom: 18px; }
        .hero-titulo em { font-style: italic; background: var(--gold-grad); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .hero-sub { font-size: 15px; color: var(--sub); max-width: 520px; margin: 0 auto 14px; line-height: 1.8; }
        .hero-badge { display: inline-flex; align-items: center; gap: 8px; background: rgba(39,174,96,0.1); border: 1px solid rgba(39,174,96,0.25); border-radius: 20px; padding: 6px 16px; font-size: 10px; font-weight: 700; color: var(--green); letter-spacing: 2px; text-transform: uppercase; margin-top: 12px; }

        .filtros-wrap { max-width: 1160px; margin: 0 auto; padding: 0 48px 30px; display: flex; gap: 8px; flex-wrap: wrap; }
        .filtro { background: var(--card); border: 1px solid var(--border); border-radius: 30px; padding: 8px 18px; font-size: 11px; font-weight: 600; color: var(--sub); cursor: pointer; transition: 0.3s; text-transform: uppercase; letter-spacing: 1px; }
        .filtro:hover { border-color: var(--gold); color: var(--gold); }
        .filtro.ativo { background: var(--gold-grad); color: #000; border-color: transparent; }

        .busca-wrap { max-width: 1160px; margin: 0 auto; padding: 0 48px 24px; }
        .busca { width: 100%; background: var(--card); border: 1px solid var(--border); border-radius: 4px; padding: 14px 20px; color: var(--text); font-family: 'DM Sans', sans-serif; font-size: 14px; outline: none; transition: 0.3s; }
        .busca::placeholder { color: var(--sub); }
        .busca:focus { border-color: var(--gold); }

        .grid-section { max-width: 1160px; margin: 0 auto; padding: 0 48px 80px; }
        .grid-label { font-size: 9px; font-weight: 700; letter-spacing: 4px; color: var(--gold); text-transform: uppercase; margin-bottom: 20px; display: flex; align-items: center; gap: 12px; }
        .grid-label::after { content: ''; flex: 1; height: 1px; background: var(--border); }
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 16px; }

        .pcard { background: var(--card); border: 1px solid var(--border); border-radius: 8px; overflow: hidden; transition: 0.3s; position: relative; animation: fadeUp 0.4s ease both; }
        .pcard:hover { border-color: var(--border-h); transform: translateY(-3px); }
        .pcard-top { padding: 22px 22px 16px; }
        .pcard-area { font-size: 9px; font-weight: 700; letter-spacing: 3px; color: var(--gold); text-transform: uppercase; margin-bottom: 10px; }
        .pcard-titulo { font-family: 'Cormorant Garamond', serif; font-size: 18px; font-weight: 700; margin-bottom: 8px; line-height: 1.3; }
        .pcard-desc { font-size: 12px; color: var(--sub); line-height: 1.6; margin-bottom: 14px; }
        .pcard-preview { position: relative; background: #000; border: 1px solid var(--border); border-radius: 4px; margin: 0 22px 16px; overflow: hidden; }
        .pcard-preview-texto { font-family: 'Courier New', monospace; font-size: 11px; color: rgba(252,246,186,0.5); line-height: 1.6; padding: 12px 14px; white-space: pre-wrap; }
        .pcard-preview-blur { position: absolute; bottom: 0; left: 0; right: 0; height: 55px; background: linear-gradient(transparent, #000); display: flex; align-items: flex-end; justify-content: center; padding-bottom: 8px; }
        .lock-pill { display: flex; align-items: center; gap: 5px; background: rgba(191,149,63,0.12); border: 1px solid rgba(191,149,63,0.3); border-radius: 20px; padding: 4px 12px; font-size: 9px; font-weight: 700; color: var(--gold); letter-spacing: 2px; text-transform: uppercase; }
        .pcard-bottom { padding: 14px 22px; border-top: 1px solid var(--border); display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; gap: 10px; }
        .pcard-tags { display: flex; gap: 6px; flex-wrap: wrap; }
        .tag { font-size: 8px; font-weight: 700; padding: 3px 9px; border-radius: 20px; background: var(--accent); border: 1px solid var(--border); color: var(--sub); text-transform: uppercase; }
        .tag.nivel-basico { color: #3498db; border-color: rgba(52,152,219,0.3); background: rgba(52,152,219,0.08); }
        .tag.nivel-inter { color: #f39c12; border-color: rgba(243,156,18,0.3); background: rgba(243,156,18,0.08); }
        .tag.nivel-avancado { color: #e74c3c; border-color: rgba(231,76,60,0.3); background: rgba(231,76,60,0.08); }
        .tag.nivel-premium { color: var(--gold); border-color: rgba(191,149,63,0.3); background: rgba(191,149,63,0.08); }
        .pcard-preco { font-family: 'Cormorant Garamond', serif; font-size: 22px; font-weight: 700; background: var(--gold-grad); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .btn-comprar { background: var(--gold-grad); color: #000; border: none; padding: 10px 20px; border-radius: 3px; font-family: 'DM Sans', sans-serif; font-weight: 700; font-size: 10px; letter-spacing: 2px; text-transform: uppercase; cursor: pointer; transition: 0.3s; white-space: nowrap; }
        .btn-comprar:hover { filter: brightness(1.15); }

        /* MODAL */
        .overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.94); z-index: 500; display: none; align-items: center; justify-content: center; padding: 20px; }
        .overlay.show { display: flex; }
        .modal { background: var(--card); border: 1px solid var(--border); border-radius: 10px; padding: 40px; max-width: 500px; width: 100%; max-height: 92vh; overflow-y: auto; position: relative; animation: fadeUp 0.3s ease both; }
        .modal::before { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 2px; background: var(--gold-grad); border-radius: 10px 10px 0 0; }
        .modal-fechar { position: absolute; top: 14px; right: 18px; background: none; border: none; color: var(--sub); font-size: 24px; cursor: pointer; transition: 0.2s; }
        .modal-fechar:hover { color: var(--text); }
        .modal-step { display: none; }
        .modal-step.ativo { display: block; }
        .modal-kicker { font-size: 9px; font-weight: 700; letter-spacing: 4px; color: var(--gold); text-transform: uppercase; margin-bottom: 10px; }
        .modal-titulo { font-family: 'Cormorant Garamond', serif; font-size: 26px; font-weight: 700; margin-bottom: 6px; }
        .modal-sub { font-size: 13px; color: var(--sub); line-height: 1.7; margin-bottom: 24px; }
        .inp { width: 100%; background: rgba(255,255,255,0.03); border: 1px solid var(--border); border-radius: 4px; padding: 14px 16px; color: var(--text); font-family: 'DM Sans', sans-serif; font-size: 14px; outline: none; transition: 0.3s; margin-bottom: 12px; }
        .inp::placeholder { color: var(--sub); }
        .inp:focus { border-color: var(--gold); }
        .radio-group { display: flex; gap: 10px; margin-bottom: 16px; }
        .radio-opt { flex: 1; border: 1px solid var(--border); border-radius: 4px; padding: 12px; cursor: pointer; text-align: center; transition: 0.3s; }
        .radio-opt.sel { border-color: var(--gold); background: var(--accent); }
        .radio-opt-icon { font-size: 20px; margin-bottom: 4px; }
        .radio-opt-label { font-size: 11px; font-weight: 600; color: var(--sub); }
        .radio-opt.sel .radio-opt-label { color: var(--gold); }
        .btn-full { width: 100%; background: var(--gold-grad); color: #000; border: none; padding: 16px; border-radius: 4px; font-family: 'DM Sans', sans-serif; font-weight: 700; font-size: 11px; letter-spacing: 3px; text-transform: uppercase; cursor: pointer; transition: 0.3s; margin-top: 6px; }
        .btn-full:hover { filter: brightness(1.15); }
        .btn-full.green { background: linear-gradient(135deg, #27ae60, #52c452); color: #fff; }

        .prompt-resumo { background: var(--card2); border: 1px solid var(--border); border-radius: 6px; padding: 16px; margin-bottom: 20px; }
        .prompt-resumo-nome { font-family: 'Cormorant Garamond', serif; font-size: 18px; font-weight: 700; margin-bottom: 4px; }
        .prompt-resumo-preco { font-size: 28px; font-family: 'Cormorant Garamond', serif; font-weight: 700; background: var(--gold-grad); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .pix-box { background: #000; border: 1px solid rgba(191,149,63,0.2); border-radius: 6px; padding: 18px; margin-bottom: 16px; text-align: center; }
        .pix-lbl { font-size: 9px; font-weight: 700; letter-spacing: 3px; color: var(--gold); text-transform: uppercase; margin-bottom: 10px; }
        .pix-key { font-size: 18px; font-weight: 700; color: var(--text); letter-spacing: 2px; margin-bottom: 6px; }
        .pix-nome { font-size: 11px; color: var(--sub); }

        /* WHATSAPP URGENTE */
        .whats-urgente { background: linear-gradient(135deg, rgba(37,211,102,0.12), rgba(18,140,126,0.06)); border: 2px solid rgba(37,211,102,0.45); border-radius: 10px; padding: 18px 20px; margin: 18px 0; position: relative; overflow: hidden; }
        .whats-urgente::before { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 2px; background: linear-gradient(90deg, #25D366, #128C7E); }
        .whats-urgente-titulo { font-size: 11px; font-weight: 800; letter-spacing: 2px; color: #25D366; text-transform: uppercase; margin-bottom: 8px; }
        .whats-urgente-texto { font-size: 13px; color: var(--text); line-height: 1.65; margin-bottom: 10px; }
        .whats-urgente-numero { font-size: 22px; font-weight: 900; color: #25D366; letter-spacing: 3px; display: block; text-align: center; padding: 10px; background: rgba(37,211,102,0.08); border-radius: 6px; border: 1px solid rgba(37,211,102,0.2); margin-top: 8px; }
        .whats-urgente-aviso { font-size: 11px; color: rgba(37,211,102,0.7); text-align: center; margin-top: 8px; font-style: italic; }

        .btn-whats { width: 100%; background: linear-gradient(135deg, #25D366, #128C7E); color: #fff; border: none; padding: 16px; border-radius: 4px; font-family: 'DM Sans', sans-serif; font-weight: 800; font-size: 12px; letter-spacing: 2px; text-transform: uppercase; cursor: pointer; transition: 0.3s; margin-top: 8px; display: flex; align-items: center; justify-content: center; gap: 8px; text-decoration: none; }
        .btn-whats:hover { filter: brightness(1.1); transform: translateY(-1px); }

        .alerta-comprovante { background: linear-gradient(135deg, rgba(231,76,60,0.1), rgba(192,57,43,0.05)); border: 1px solid rgba(231,76,60,0.35); border-radius: 6px; padding: 12px 16px; margin: 12px 0; font-size: 12px; color: rgba(255,120,100,0.95); text-align: center; font-weight: 600; line-height: 1.5; }

        .aguardando-box { text-align: center; padding: 20px 0; }
        .aguardando-icon { font-size: 54px; margin-bottom: 16px; }
        .aguardando-titulo { font-family: 'Cormorant Garamond', serif; font-size: 28px; font-weight: 700; margin-bottom: 10px; }
        .aguardando-sub { font-size: 13px; color: var(--sub); line-height: 1.8; }

        /* ADMIN */
        .admin-header { padding: 30px 40px; border-bottom: 1px solid var(--border); display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; gap: 14px; }
        .admin-titulo { font-family: 'Cormorant Garamond', serif; font-size: 28px; font-weight: 700; }
        .admin-titulo em { font-style: italic; background: var(--gold-grad); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .admin-tabs { display: flex; gap: 8px; padding: 20px 40px 0; border-bottom: 1px solid var(--border); }
        .admin-tab { background: none; border: none; border-bottom: 2px solid transparent; padding: 10px 20px; font-family: 'DM Sans', sans-serif; font-size: 12px; font-weight: 700; color: var(--sub); cursor: pointer; letter-spacing: 2px; text-transform: uppercase; transition: 0.3s; margin-bottom: -1px; }
        .admin-tab.ativo { color: var(--gold); border-bottom-color: var(--gold); }
        .admin-content { padding: 30px 40px; }
        .admin-panel { display: none; }
        .admin-panel.ativo { display: block; }
        .pedidos-grid { display: flex; flex-direction: column; gap: 12px; }
        .pedido-card { background: var(--card); border: 1px solid var(--border); border-radius: 8px; padding: 20px; display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; gap: 14px; }
        .pedido-card:hover { border-color: var(--border-h); }
        .pedido-info h3 { font-family: 'Cormorant Garamond', serif; font-size: 17px; font-weight: 700; margin-bottom: 4px; }
        .pedido-meta { font-size: 11px; color: var(--sub); display: flex; gap: 14px; flex-wrap: wrap; }
        .pedido-preco { font-family: 'Cormorant Garamond', serif; font-size: 22px; font-weight: 700; background: var(--gold-grad); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .pedido-status { font-size: 9px; font-weight: 700; letter-spacing: 2px; padding: 5px 12px; border-radius: 20px; text-transform: uppercase; }
        .status-pendente { background: rgba(243,156,18,0.12); border: 1px solid rgba(243,156,18,0.3); color: #f39c12; }
        .status-entregue { background: rgba(39,174,96,0.12); border: 1px solid rgba(39,174,96,0.3); color: var(--green); }
        .btn-ver-pedido { background: none; color: var(--gold); border: 1px solid rgba(191,149,63,0.3); padding: 10px 18px; border-radius: 3px; font-family: 'DM Sans', sans-serif; font-weight: 700; font-size: 10px; letter-spacing: 2px; text-transform: uppercase; cursor: pointer; transition: 0.3s; }
        .btn-ver-pedido:hover { background: var(--accent); }
        .form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 14px; }
        .form-full { grid-column: 1 / -1; }
        .inp-label { font-size: 9px; font-weight: 700; letter-spacing: 2px; color: var(--sub); text-transform: uppercase; margin-bottom: 6px; display: block; }
        textarea.inp { resize: vertical; min-height: 120px; }
        select.inp { appearance: none; cursor: pointer; }
        .stat-card { background: var(--card); border: 1px solid var(--border); border-radius: 8px; padding: 20px; }
        .stat-card-num { font-family: 'Cormorant Garamond', serif; font-size: 36px; font-weight: 700; background: var(--gold-grad); -webkit-background-clip: text; -webkit-text-fill-color: transparent; line-height: 1; margin-bottom: 6px; }
        .stat-card-label { font-size: 10px; color: var(--sub); letter-spacing: 2px; text-transform: uppercase; font-weight: 600; }
        #page-admin-login { display: flex; align-items: center; justify-content: center; min-height: 100vh; background: var(--bg); }
        .admin-login-box { background: var(--card); border: 1px solid var(--border); border-radius: 8px; padding: 40px; width: 100%; max-width: 360px; text-align: center; position: relative; }
        .admin-login-box::before { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 2px; background: var(--gold-grad); }

        #toast { position: fixed; bottom: 28px; left: 50%; transform: translateX(-50%) translateY(20px); background: var(--gold-grad); color: #000; padding: 13px 26px; border-radius: 4px; font-size: 10px; font-weight: 800; letter-spacing: 3px; text-transform: uppercase; opacity: 0; transition: 0.3s; z-index: 9999; pointer-events: none; white-space: nowrap; }
        #toast.show { opacity: 1; transform: translateX(-50%) translateY(0); }
        .vazio { grid-column: 1/-1; text-align: center; padding: 80px 20px; color: var(--sub); font-size: 13px; letter-spacing: 2px; }
        @keyframes fadeUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        @media (max-width: 640px) {
            .navbar, .hero, .filtros-wrap, .busca-wrap, .grid-section { padding-left: 20px; padding-right: 20px; }
            .grid { grid-template-columns: 1fr; }
            .modal { padding: 28px 20px; }
            .admin-header, .admin-content { padding-left: 20px; padding-right: 20px; }
            .form-grid { grid-template-columns: 1fr; }
            .radio-group { flex-direction: column; }
            .admin-tabs { padding-left: 20px; }
        }
    </style>
</head>
<body>
<div id="toast"></div>

<!-- OVERLAY COMPRA -->
<div class="overlay" id="overlay-compra">
    <div class="modal">
        <button class="modal-fechar" onclick="fecharOverlay()">√ó</button>

        <!-- STEP 1: DADOS DO CLIENTE -->
        <div class="modal-step ativo" id="step1">
            <div class="modal-kicker">Quase l√°!</div>
            <div class="modal-titulo" id="s1-titulo"></div>
            <div class="modal-sub">Preencha seus dados para receber o prompt ap√≥s o pagamento.</div>
            <input class="inp" type="text" id="s1-nome" placeholder="Seu nome completo">
            <input class="inp" type="email" id="s1-email" placeholder="Seu e-mail">
            <input class="inp" type="tel" id="s1-whats" placeholder="WhatsApp com DDD (ex: 11987654321)">
            <div style="margin-bottom:10px;font-size:10px;font-weight:700;letter-spacing:2px;color:var(--sub);text-transform:uppercase;">Como quer receber o prompt?</div>
            <div class="radio-group">
                <div class="radio-opt sel" id="opt-email" onclick="selecionarEntrega('email')">
                    <div class="radio-opt-icon">üìß</div>
                    <div class="radio-opt-label">E-mail</div>
                </div>
                <div class="radio-opt" id="opt-whats" onclick="selecionarEntrega('whats')">
                    <div class="radio-opt-icon">üí¨</div>
                    <div class="radio-opt-label">WhatsApp</div>
                </div>
                <div class="radio-opt" id="opt-ambos" onclick="selecionarEntrega('ambos')">
                    <div class="radio-opt-icon">‚úÖ</div>
                    <div class="radio-opt-label">Os dois</div>
                </div>
            </div>
            <div id="s1-erro" style="font-size:11px;color:var(--red);margin-bottom:10px;min-height:16px;"></div>
            <button class="btn-full" onclick="irParaPix()">CONTINUAR PARA PAGAMENTO ‚Üí</button>
        </div>

        <!-- STEP 2: PIX + INSTRU√á√ÉO COMPROVANTE -->
        <div class="modal-step" id="step2">
            <div class="modal-kicker">Pagamento via Pix</div>
            <div class="modal-titulo">Quase l√°! S√≥ falta pagar üéØ</div>

            <div class="prompt-resumo">
                <div class="prompt-resumo-nome" id="s2-titulo"></div>
                <div class="prompt-resumo-preco" id="s2-preco"></div>
            </div>

            <div class="pix-box">
                <div class="pix-lbl">Chave Pix ‚Äî CPF</div>
                <div class="pix-key">39521484829</div>
                <div class="pix-nome">C√°ssia Kelly Lins Reis</div>
            </div>

            <button class="btn-full" id="btn-copiar-pix" onclick="copiarPix()">üìã COPIAR CHAVE PIX</button>

            <!-- INSTRU√á√ÉO WHATSAPP - DESTAQUE M√ÅXIMO -->
            <div class="whats-urgente">
                <div class="whats-urgente-titulo">üì≤ PASSO OBRIGAT√ìRIO AP√ìS PAGAR</div>
                <div class="whats-urgente-texto">
                    Depois do Pix, voc√™ <strong style="color:#25D366;">PRECISA enviar o comprovante</strong> para o WhatsApp abaixo. <strong>Sem comprovante, o prompt n√£o ser√° entregue.</strong>
                </div>
                <span class="whats-urgente-numero">(11) 97885-7415</span>
                <div class="whats-urgente-aviso">‚è±Ô∏è Entrega em at√© 1 hora ap√≥s confirma√ß√£o</div>
            </div>

            <a class="btn-whats" href="#" target="_blank" onclick="abrirWhatsComprovante(event)">
                üí¨ ENVIAR COMPROVANTE NO WHATSAPP
            </a>

            <div class="alerta-comprovante">
                ‚ö†Ô∏è ATEN√á√ÉO: O prompt s√≥ √© entregue ap√≥s enviarmos a confirma√ß√£o do pagamento via comprovante no WhatsApp!
            </div>

            <div style="font-size:12px;color:var(--sub);text-align:center;margin-top:10px;">
                Entrega via <strong style="color:var(--gold);"><span id="s2-entrega"></span></strong>
            </div>

            <button class="btn-full" style="margin-top:14px;background:rgba(39,174,96,0.15);color:var(--green);border:1px solid rgba(39,174,96,0.35);" onclick="confirmarPagamento()">‚úÖ J√Å ENVIEI O COMPROVANTE NO WHATSAPP</button>
        </div>

        <!-- STEP 3: CONFIRMA√á√ÉO -->
        <div class="modal-step" id="step3">
            <div class="aguardando-box">
                <div class="aguardando-icon">‚úÖ</div>
                <div class="aguardando-titulo">Pedido registrado!</div>
                <div class="aguardando-sub">
                    Seu pedido foi <strong style="color:var(--gold);">salvo com sucesso</strong>.<br><br>
                    Assim que confirmarmos o pagamento, seu prompt ser√° enviado via <strong id="s3-entrega" style="color:var(--gold);"></strong>.<br><br>
                    Tempo m√©dio: <strong style="color:var(--gold);">at√© 1 hora</strong>.
                </div>

                <div class="whats-urgente" style="margin-top:24px;text-align:left;">
                    <div class="whats-urgente-titulo">üìå Ainda n√£o enviou o comprovante?</div>
                    <div class="whats-urgente-texto">
                        Envie agora para garantir a entrega mais r√°pida do seu prompt!
                    </div>
                    <span class="whats-urgente-numero">(11) 97885-7415</span>
                </div>

                <a class="btn-whats" href="#" target="_blank" onclick="abrirWhatsStep3(event)" style="margin-top:10px;">
                    üí¨ ENVIAR COMPROVANTE AGORA
                </a>
            </div>
        </div>
    </div>
</div>

<!-- OVERLAY VER PEDIDO (ADMIN) -->
<div class="overlay" id="overlay-pedido">
    <div class="modal">
        <button class="modal-fechar" onclick="fecharOverlayPedido()">√ó</button>
        <div class="modal-kicker">Detalhes do Pedido</div>
        <div class="modal-titulo" id="op-prompt"></div>
        <div style="margin:14px 0;padding:14px;background:var(--card2);border:1px solid var(--border);border-radius:6px;font-size:12px;color:var(--sub);line-height:1.8;">
            <div><strong style="color:var(--text);">Cliente:</strong> <span id="op-nome"></span></div>
            <div><strong style="color:var(--text);">E-mail:</strong> <span id="op-email"></span></div>
            <div><strong style="color:var(--text);">WhatsApp:</strong> <span id="op-whats"></span></div>
            <div><strong style="color:var(--text);">Entrega via:</strong> <span id="op-entrega"></span></div>
            <div><strong style="color:var(--text);">Valor:</strong> <span id="op-preco"></span></div>
            <div><strong style="color:var(--text);">Data:</strong> <span id="op-data"></span></div>
            <div><strong style="color:var(--text);">Status:</strong> <span id="op-status"></span></div>
        </div>
        <div style="margin-bottom:10px;font-size:10px;font-weight:700;letter-spacing:2px;color:var(--sub);text-transform:uppercase;">Prompt completo para enviar ao cliente:</div>
        <div id="op-prompt-completo" style="background:#000;border:1px solid var(--border);border-radius:4px;padding:16px;font-family:'Courier New',monospace;font-size:11px;color:#fcf6ba;line-height:1.7;white-space:pre-wrap;max-height:220px;overflow-y:auto;margin-bottom:14px;"></div>
        <button class="btn-full" id="btn-copiar-prompt-admin" onclick="copiarPromptAdmin()">üìã COPIAR PROMPT PARA ENVIAR</button>
        <button class="btn-full" style="margin-top:10px;" id="btn-marcar-entregue" onclick="marcarEntregue()">‚úÖ MARCAR COMO ENTREGUE</button>
        <button class="btn-full" style="margin-top:10px;background:rgba(231,76,60,0.12);color:var(--red);border:1px solid rgba(231,76,60,0.3);" onclick="excluirPedido()">üóëÔ∏è EXCLUIR PEDIDO</button>
    </div>
</div>

<!-- P√ÅGINA LOJA -->
<div id="page-loja" class="page ativa">
    <nav class="navbar">
        <div class="nav-logo" onclick="irParaLoja()">PROMPTUS <span>STORE</span></div>
        <div class="nav-right">
            <button class="nav-btn" onclick="irParaAdminLogin()">üîê Admin</button>
        </div>
    </nav>
    <div class="hero">
        <div class="hero-kicker">Prompts Profissionais Brasileiros</div>
        <h1 class="hero-titulo">Prompts que resolvem<br><em>dores reais.</em></h1>
        <p class="hero-sub">Cada prompt foi criado por especialista, testado contra alucina√ß√µes e calibrado para o mercado brasileiro. Compre s√≥ o que precisa.</p>
        <div class="hero-badge">üõ°Ô∏è Anti-alucina√ß√£o ¬∑ Anti-mentira ¬∑ Uso universal</div>
    </div>
    <div class="busca-wrap">
        <input class="busca" type="text" id="busca" placeholder="üîç  Buscar prompt... ex: peti√ß√£o, laudo, contrato, proposta" oninput="filtrarPrompts()">
    </div>
    <div class="filtros-wrap" id="filtros-wrap"></div>
    <div class="grid-section">
        <div class="grid-label" id="grid-label">Todos os Prompts</div>
        <div class="grid" id="prompts-grid"></div>
    </div>
</div>

<!-- P√ÅGINA: ADMIN LOGIN -->
<div id="page-admin-login" class="page" style="display:none;">
    <div class="admin-login-box">
        <div style="font-family:'Cormorant Garamond',serif;font-size:28px;font-weight:900;background:var(--gold-grad);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin-bottom:6px;">PROMPTUS</div>
        <div style="font-size:9px;letter-spacing:4px;color:var(--sub);text-transform:uppercase;margin-bottom:32px;">Painel Admin</div>
        <input class="inp" type="password" id="admin-senha" placeholder="Senha de administrador" onkeydown="if(event.key==='Enter') loginAdmin()">
        <div id="admin-erro" style="font-size:11px;color:var(--red);margin-bottom:10px;min-height:16px;"></div>
        <button class="btn-full" onclick="loginAdmin()">ENTRAR</button>
        <div style="margin-top:16px;font-size:11px;color:var(--sub);cursor:pointer;" onclick="irParaLoja()">‚Üê Voltar √† loja</div>
    </div>
</div>

<!-- P√ÅGINA: ADMIN PAINEL -->
<div id="page-admin" class="page" style="display:none;">
    <nav class="navbar">
        <div class="nav-logo">PROMPTUS <span>ADMIN</span></div>
        <div class="nav-right">
            <button class="nav-btn" onclick="irParaLoja()">‚Üê Ver Loja</button>
            <button class="nav-btn" onclick="logoutAdmin()">SAIR</button>
        </div>
    </nav>
    <div class="admin-header">
        <div class="admin-titulo">Painel de <em>Gest√£o</em></div>
        <div style="display:flex;gap:14px;flex-wrap:wrap;">
            <div class="stat-card" style="min-width:130px;"><div class="stat-card-num" id="stat-pedidos">0</div><div class="stat-card-label">Pedidos totais</div></div>
            <div class="stat-card" style="min-width:130px;"><div class="stat-card-num" id="stat-pendentes">0</div><div class="stat-card-label">Pendentes</div></div>
            <div class="stat-card" style="min-width:130px;"><div class="stat-card-num" id="stat-receita">R$0</div><div class="stat-card-label">Receita total</div></div>
        </div>
    </div>
    <div class="admin-tabs">
        <button class="admin-tab ativo" onclick="mudarTab('pedidos', this)">üì¶ Pedidos</button>
        <button class="admin-tab" onclick="mudarTab('prompts', this)">üìù Prompts</button>
        <button class="admin-tab" onclick="mudarTab('adicionar', this)">‚ûï Adicionar</button>
    </div>
    <div class="admin-content">
        <div class="admin-panel ativo" id="panel-pedidos">
            <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:20px;flex-wrap:wrap;gap:10px;">
                <div style="font-size:13px;color:var(--sub);">Pedidos recentes ‚Äî clique em VER para copiar o prompt e marcar como entregue</div>
                <button class="nav-btn" onclick="carregarPedidos()" style="font-size:10px;">üîÑ Atualizar</button>
            </div>
            <div class="pedidos-grid" id="pedidos-grid"><div style="text-align:center;padding:40px;color:var(--sub);">Carregando pedidos...</div></div>
        </div>
        <div class="admin-panel" id="panel-prompts">
            <div style="margin-bottom:20px;font-size:13px;color:var(--sub);">Prompts cadastrados na loja.</div>
            <div class="grid" id="admin-prompts-grid"></div>
        </div>
        <div class="admin-panel" id="panel-adicionar">
            <div style="max-width:680px;">
                <div style="margin-bottom:24px;font-size:13px;color:var(--sub);">Preencha os dados do novo prompt:</div>
                <div class="form-grid">
                    <div><label class="inp-label">T√≠tulo</label><input class="inp" type="text" id="f-titulo" placeholder="Ex: Peti√ß√£o Inicial Trabalhista"></div>
                    <div><label class="inp-label">√Årea</label>
                        <select class="inp" id="f-area">
                            <option value="juridico">‚öñÔ∏è Jur√≠dico</option>
                            <option value="medico">üè• M√©dico</option>
                            <option value="negocios">üíº Neg√≥cios e RH</option>
                            <option value="marketing">üì£ Marketing</option>
                            <option value="contabil">üìä Cont√°bil</option>
                            <option value="psicologia">üß† Psicologia</option>
                            <option value="educacao">üìö Educa√ß√£o</option>
                            <option value="engenharia">üîß Engenharia</option>
                            <option value="ti">üíª TI</option>
                            <option value="saude">üíä Sa√∫de</option>
                            <option value="financeiro">üí∞ Financeiro</option>
                            <option value="outro">‚ú≥Ô∏è Outro</option>
                        </select>
                    </div>
                    <div><label class="inp-label">N√≠vel</label>
                        <select class="inp" id="f-nivel">
                            <option value="basico">B√°sico ‚Äî R$9,90</option>
                            <option value="intermediario">Intermedi√°rio ‚Äî R$19,90</option>
                            <option value="avancado">Avan√ßado ‚Äî R$29,90</option>
                            <option value="premium">Premium ‚Äî R$49,90</option>
                        </select>
                    </div>
                    <div><label class="inp-label">Tag</label><input class="inp" type="text" id="f-tag" placeholder="Ex: Peti√ß√£o, Laudo, Contrato"></div>
                    <div class="form-full"><label class="inp-label">Descri√ß√£o</label><textarea class="inp" id="f-desc" rows="3" placeholder="O que este prompt resolve..."></textarea></div>
                    <div class="form-full"><label class="inp-label">Preview (vis√≠vel antes da compra)</label><textarea class="inp" id="f-preview" rows="3" placeholder="PERSONA: Voc√™ √©..."></textarea></div>
                    <div class="form-full"><label class="inp-label">Prompt completo (entregue ap√≥s pagamento)</label><textarea class="inp" id="f-prompt" rows="8" placeholder="Prompt completo..."></textarea></div>
                </div>
                <div id="f-erro" style="font-size:11px;color:var(--red);margin:10px 0;min-height:16px;"></div>
                <button class="btn-full" onclick="salvarPrompt()">‚úÖ SALVAR PROMPT NA LOJA</button>
            </div>
        </div>
    </div>
</div>

<script>
const fConfig = { databaseURL: "https://cassia-v9-default-rtdb.firebaseio.com" };
if (!firebase.apps.length) firebase.initializeApp(fConfig);
const db = firebase.database();

const ADMIN_SENHA = 'cassia2025';
const PIX_CHAVE = '39521484829';
const WHATS_COMPROVANTE = '5511978857415';
const PRECOS_LABEL = { basico: 'R$9,90', intermediario: 'R$19,90', avancado: 'R$29,90', premium: 'R$49,90' };
const NIVEIS_TAG = { basico: 'nivel-basico', intermediario: 'nivel-inter', avancado: 'nivel-avancado', premium: 'nivel-premium' };
const NIVEIS_LABEL = { basico: 'B√°sico', intermediario: 'Intermedi√°rio', avancado: 'Avan√ßado', premium: 'Premium' };

const AREAS = [
    {key:'todos',label:'Todos',emoji:'‚ú®'},
    {key:'juridico',label:'Jur√≠dico',emoji:'‚öñÔ∏è'},
    {key:'medico',label:'M√©dico',emoji:'üè•'},
    {key:'negocios',label:'Neg√≥cios',emoji:'üíº'},
    {key:'marketing',label:'Marketing',emoji:'üì£'},
    {key:'contabil',label:'Cont√°bil',emoji:'üìä'},
    {key:'psicologia',label:'Psicologia',emoji:'üß†'},
    {key:'educacao',label:'Educa√ß√£o',emoji:'üìö'},
    {key:'engenharia',label:'Engenharia',emoji:'üîß'},
    {key:'ti',label:'TI',emoji:'üíª'},
    {key:'saude',label:'Sa√∫de',emoji:'üíä'},
    {key:'financeiro',label:'Financeiro',emoji:'üí∞'},
    {key:'outro',label:'Outro',emoji:'‚ú≥Ô∏è'},
];

const ANTI = `\n\nüõ°Ô∏è REGRAS ANTI-ALUCINA√á√ÉO ‚Äî OBRIGAT√ìRIAS:\n‚õî NUNCA invente dados, nomes, datas, valores ou fatos n√£o fornecidos.\n‚õî NUNCA cite leis ou jurisprud√™ncia inexistentes.\n‚õî Se faltar informa√ß√£o essencial, escreva: ‚ö†Ô∏è DADO AUSENTE: [o que falta].\n‚úÖ Use EXCLUSIVAMENTE os dados fornecidos abaixo.\n‚úÖ Em caso de d√∫vida, sinalize claramente.`;

const TODOS_PROMPTS_INICIAIS = [
// ‚îÄ‚îÄ ORIGINAIS ‚îÄ‚îÄ
{titulo:'Peti√ß√£o Inicial Trabalhista',area:'juridico',nivel:'avancado',tag:'Peti√ß√£o',desc:'Gera peti√ß√£o trabalhista completa com CLT, S√∫mulas do TST e jurisprud√™ncia. Resolve a dor de advogados que perdem horas formatando pe√ßas.',preview:'PERSONA: Voc√™ √© advogado(a) trabalhista s√™nior com 20 anos de TRT.\nTAREFA: Redigir peti√ß√£o inicial trabalhista completa.\nESTRUTURA:\n1. Qualifica√ß√£o das partes\n2. Dos fatos...',prompt:`PERSONA: Voc√™ √© advogado(a) trabalhista s√™nior com 20 anos de experi√™ncia no TRT.\nTAREFA: Redigir peti√ß√£o inicial trabalhista completa e tecnicamente impec√°vel.\nESTRUTURA OBRIGAT√ìRIA:\n1. Qualifica√ß√£o das partes\n2. Dos fatos (cronol√≥gico)\n3. Do direito (cite CLT e S√∫mulas TST espec√≠ficas)\n4. Dos pedidos (itemize cada um com valor)\n5. Do valor da causa${ANTI}\nDADOS DO CASO:\n[INSIRA AQUI: partes, fatos, verbas e pedidos]`},
{titulo:'Laudo M√©dico Completo',area:'medico',nivel:'avancado',tag:'Laudo',desc:'Laudo t√©cnico estruturado com anamnese, CID-10 e conduta. Para m√©dicos que precisam de documenta√ß√£o impec√°vel e r√°pida.',preview:'PERSONA: Voc√™ √© m√©dico(a) especialista com 20 anos de experi√™ncia cl√≠nica.\nTAREFA: Redigir laudo m√©dico completo.\nESTRUTURA:\n1. Identifica√ß√£o do paciente\n2. Anamnese...',prompt:`PERSONA: Voc√™ √© m√©dico(a) especialista com 20 anos de experi√™ncia cl√≠nica.\nTAREFA: Redigir laudo m√©dico completo e impec√°vel.\nESTRUTURA:\n1. Identifica√ß√£o do paciente\n2. Queixa principal\n3. Anamnese e hist√≥rico\n4. Exame f√≠sico\n5. Hip√≥tese diagn√≥stica e CID-10\n6. Conduta m√©dica${ANTI}\nDADOS:\n[INSIRA: nome, idade, queixas, exames e hist√≥rico]`},
{titulo:'Proposta Comercial de Alto Impacto',area:'negocios',nivel:'intermediario',tag:'Vendas',desc:'Proposta persuasiva focada em valor, n√£o pre√ßo. Para empres√°rios que perdem vendas por propostas fracas e gen√©ricas.',preview:'PERSONA: Voc√™ √© consultor(a) comercial s√™nior com 20 anos em vendas B2B.\nTAREFA: Redigir proposta comercial profissional.\nESTRUTURA:\n1. Diagn√≥stico do problema...',prompt:`PERSONA: Voc√™ √© consultor(a) comercial s√™nior com 20 anos em vendas B2B.\nTAREFA: Redigir proposta comercial profissional e persuasiva.\nESTRUTURA:\n1. Apresenta√ß√£o executiva\n2. Diagn√≥stico do problema do cliente\n3. Solu√ß√£o proposta\n4. Benef√≠cios e ROI estimado\n5. Investimento e condi√ß√µes\n6. Pr√≥ximos passos e prazo${ANTI}\nDADOS:\n[INSIRA: empresa, produto, cliente e valor]`},
{titulo:'Copy para P√°gina de Vendas',area:'marketing',nivel:'avancado',tag:'Copywriting',desc:'Copy de alta convers√£o com gatilhos mentais e CTA irresist√≠vel. Para quem quer vender mais sem contratar ag√™ncia.',preview:'PERSONA: Voc√™ √© copywriter s√™nior especialista em p√°ginas de vendas.\nTAREFA: Escrever copy completa.\nESTRUTURA:\n1. Headline impactante\n2. Identifica√ß√£o do problema...',prompt:`PERSONA: Voc√™ √© copywriter s√™nior especialista em p√°ginas de alta convers√£o.\nTAREFA: Escrever copy completa para p√°gina de vendas.\nESTRUTURA:\n1. Headline impactante (testa 3 op√ß√µes)\n2. Subheadline de apoio\n3. Identifica√ß√£o da dor do p√∫blico\n4. Apresenta√ß√£o da solu√ß√£o\n5. Benef√≠cios (n√£o caracter√≠sticas)\n6. Prova social\n7. Oferta e garantia\n8. CTA urgente${ANTI}\nDADOS:\n[INSIRA: produto, p√∫blico, pre√ßo e diferenciais]`},
{titulo:'Parecer Cont√°bil T√©cnico',area:'contabil',nivel:'avancado',tag:'Parecer',desc:'Parecer com fundamenta√ß√£o NBC e legisla√ß√£o tribut√°ria. Para contadores que precisam de documentos s√≥lidos e sem erros.',preview:'PERSONA: Voc√™ √© contador(a) s√™nior com CRC ativo e 20 anos de experi√™ncia.\nTAREFA: Elaborar parecer cont√°bil t√©cnico.\nESTRUTURA:\n1. Do objeto...',prompt:`PERSONA: Voc√™ √© contador(a) s√™nior com CRC ativo e 20 anos de experi√™ncia.\nTAREFA: Elaborar parecer cont√°bil t√©cnico fundamentado.\nESTRUTURA:\n1. Do objeto do parecer\n2. Da documenta√ß√£o analisada\n3. Da fundamenta√ß√£o (NBC, IFRS, legisla√ß√£o)\n4. Das constata√ß√µes\n5. Da conclus√£o fundamentada${ANTI}\nDADOS:\n[INSIRA: empresa, per√≠odo, situa√ß√£o e dados cont√°beis]`},
{titulo:'Relat√≥rio Psicol√≥gico Completo',area:'psicologia',nivel:'avancado',tag:'Relat√≥rio',desc:'Relat√≥rio conforme Resolu√ß√£o CFP 06/2019. Para psic√≥logos que precisam de documenta√ß√£o cl√≠nica impec√°vel.',preview:'PERSONA: Voc√™ √© psic√≥logo(a) com CRP ativo e 20 anos de experi√™ncia.\nTAREFA: Elaborar relat√≥rio psicol√≥gico completo.\nBASE: Resolu√ß√£o CFP 06/2019...',prompt:`PERSONA: Voc√™ √© psic√≥logo(a) com CRP ativo e 20 anos de experi√™ncia cl√≠nica.\nTAREFA: Elaborar relat√≥rio psicol√≥gico completo.\nBASE LEGAL: Resolu√ß√£o CFP 06/2019.\nESTRUTURA:\n1. Identifica√ß√£o e finalidade\n2. Procedimentos utilizados\n3. An√°lise dos resultados\n4. Conclus√£o\n5. Assinatura e CRP${ANTI}\nDADOS:\n[INSIRA: paciente, demanda e observa√ß√µes cl√≠nicas]`},
{titulo:'Plano de Aula BNCC',area:'educacao',nivel:'intermediario',tag:'Plano de Aula',desc:'Plano completo com habilidades BNCC e metodologias ativas. Para professores que economizam horas de planejamento.',preview:'PERSONA: Voc√™ √© pedagogo(a) especialista em curr√≠culo.\nTAREFA: Elaborar plano de aula completo.\nBASE: BNCC.\nESTRUTURA:\n1. Objetivos de aprendizagem...',prompt:`PERSONA: Voc√™ √© pedagogo(a) especialista em curr√≠culo e did√°tica.\nTAREFA: Elaborar plano de aula completo e aplic√°vel.\nBASE: BNCC.\nESTRUTURA:\n1. Identifica√ß√£o (disciplina, ano, tema, dura√ß√£o)\n2. Objetivos de aprendizagem\n3. Habilidades BNCC\n4. Sequ√™ncia did√°tica (in√≠cio, desenvolvimento, fechamento)\n5. Recursos necess√°rios\n6. Avalia√ß√£o e crit√©rios${ANTI}\nDADOS:\n[INSIRA: disciplina, ano, tema e contexto da turma]`},
{titulo:'Laudo T√©cnico de Vistoria',area:'engenharia',nivel:'avancado',tag:'Laudo',desc:'Laudo de vistoria com base ABNT. Para engenheiros que precisam de documenta√ß√£o t√©cnica profissional e sem risco.',preview:'PERSONA: Voc√™ √© engenheiro(a) civil s√™nior com CREA ativo.\nTAREFA: Elaborar laudo t√©cnico de vistoria.\nREFER√äNCIAS: NBR aplic√°vel...',prompt:`PERSONA: Voc√™ √© engenheiro(a) civil s√™nior com CREA ativo.\nTAREFA: Elaborar laudo t√©cnico de vistoria.\nREFER√äNCIAS: NBR aplic√°vel e legisla√ß√£o municipal.\nESTRUTURA:\n1. Identifica√ß√£o do im√≥vel e solicitante\n2. Objeto e finalidade\n3. Metodologia\n4. Descri√ß√£o do estado da edifica√ß√£o\n5. An√°lise t√©cnica\n6. Conclus√£o\n7. Recomenda√ß√µes${ANTI}\nDADOS:\n[INSIRA: endere√ßo, data, finalidade e observa√ß√µes]`},
{titulo:'Documento de Requisitos de Software',area:'ti',nivel:'premium',tag:'Documenta√ß√£o',desc:'Especifica√ß√£o t√©cnica padr√£o IEEE 830 com requisitos funcionais e n√£o funcionais. Para times de TI que precisam de documenta√ß√£o s√©ria.',preview:'PERSONA: Voc√™ √© arquiteto(a) de software s√™nior com 20 anos de experi√™ncia.\nTAREFA: Elaborar SRS completo.\nPADR√ÉO: IEEE 830...',prompt:`PERSONA: Voc√™ √© arquiteto(a) de software s√™nior com 20 anos de experi√™ncia.\nTAREFA: Elaborar documento de requisitos de software (SRS).\nPADR√ÉO: IEEE 830.\nESTRUTURA:\n1. Vis√£o geral do sistema\n2. Requisitos funcionais\n3. Requisitos n√£o funcionais\n4. Restri√ß√µes\n5. Casos de uso principais${ANTI}\nDADOS:\n[INSIRA: sistema, stakeholders e funcionalidades]`},
{titulo:'Atestado M√©dico',area:'medico',nivel:'basico',tag:'Atestado',desc:'Atestado com validade legal conforme CFM. Para m√©dicos que precisam de documenta√ß√£o r√°pida e correta.',preview:'PERSONA: Voc√™ √© m√©dico(a) com CRM ativo.\nTAREFA: Redigir atestado m√©dico com plena validade legal.\nBASE: Resolu√ß√£o CFM 1.658/2002...',prompt:`PERSONA: Voc√™ √© m√©dico(a) com CRM ativo.\nTAREFA: Redigir atestado m√©dico com plena validade legal.\nBASE: Resolu√ß√£o CFM 1.658/2002.\nESTRUTURA:\n1. Identifica√ß√£o do paciente\n2. Diagn√≥stico ou CID (se autorizado)\n3. Per√≠odo de afastamento\n4. Recomenda√ß√µes\n5. Dados do m√©dico e CRM${ANTI}\nDADOS:\n[INSIRA: paciente, diagn√≥stico, per√≠odo e CRM]`},
{titulo:'Contrato de Presta√ß√£o de Servi√ßos',area:'juridico',nivel:'intermediario',tag:'Contrato',desc:'Contrato com cl√°usulas protetivas baseado no C√≥digo Civil. Para quem quer se proteger juridicamente sem pagar advogado.',preview:'PERSONA: Voc√™ √© advogado(a) civilista especialista em contratos.\nTAREFA: Redigir contrato de presta√ß√£o de servi√ßos.\nBASE: C√≥digo Civil arts. 593-609...',prompt:`PERSONA: Voc√™ √© advogado(a) civilista especialista em contratos.\nTAREFA: Redigir contrato de presta√ß√£o de servi√ßos completo.\nBASE: C√≥digo Civil arts. 593-609.\nESTRUTURA:\n1. Qualifica√ß√£o das partes\n2. Do objeto\n3. Do prazo\n4. Do valor e pagamento\n5. Das obriga√ß√µes\n6. Da rescis√£o e multa\n7. Do foro${ANTI}\nDADOS:\n[INSIRA: partes, objeto, valores e condi√ß√µes]`},
{titulo:'Sequ√™ncia de E-mails de Vendas',area:'marketing',nivel:'intermediario',tag:'E-mail Marketing',desc:'5 e-mails que nutrem e convertem leads. Para empres√°rios que querem vender mais no piloto autom√°tico.',preview:'PERSONA: Voc√™ √© especialista em e-mail marketing e copywriting.\nTAREFA: Criar sequ√™ncia de 5 e-mails de nutri√ß√£o.\nFLUXO: Boas-vindas ‚Üí Dor ‚Üí Solu√ß√£o...',prompt:`PERSONA: Voc√™ √© especialista em e-mail marketing e copywriting.\nTAREFA: Criar sequ√™ncia completa de 5 e-mails de nutri√ß√£o e convers√£o.\nESTRUTURA DE CADA E-MAIL:\n- Assunto irresist√≠vel\n- Abertura que conecta\n- Corpo com valor ou storytelling\n- CTA claro\nFLUXO: E1 boas-vindas ‚Üí E2 dor ‚Üí E3 solu√ß√£o ‚Üí E4 prova ‚Üí E5 oferta${ANTI}\nDADOS:\n[INSIRA: produto, p√∫blico e oferta]`},
{titulo:'Avalia√ß√£o de Desempenho Completa',area:'negocios',nivel:'intermediario',tag:'RH',desc:'Formul√°rio e relat√≥rio de avalia√ß√£o com PDI. Para gestores que querem dar feedback justo e estruturado.',preview:'PERSONA: Voc√™ √© especialista em gest√£o de desempenho.\nTAREFA: Elaborar avalia√ß√£o de desempenho completa.\nESTRUTURA:\n1. Compet√™ncias avaliadas...',prompt:`PERSONA: Voc√™ √© especialista em gest√£o de desempenho.\nTAREFA: Elaborar avalia√ß√£o de desempenho completa e justa.\nESTRUTURA:\n1. Identifica√ß√£o do colaborador\n2. Compet√™ncias avaliadas (com escala 1-5)\n3. Resultados vs. metas\n4. Pontos fortes\n5. Pontos de desenvolvimento\n6. PDI (Plano de Desenvolvimento Individual)\n7. Feedback e pr√≥ximos passos${ANTI}\nDADOS:\n[INSIRA: colaborador, cargo, per√≠odo e metas]`},
{titulo:'Planejamento Tribut√°rio Empresarial',area:'contabil',nivel:'premium',tag:'Tribut√°rio',desc:'Planejamento tribut√°rio legal para redu√ß√£o da carga fiscal. Para empresas que pagam imposto a mais sem saber.',preview:'PERSONA: Voc√™ √© contador(a) tributarista s√™nior.\nTAREFA: Elaborar planejamento tribut√°rio legal.\nBASE: IRPJ, CSLL, PIS, COFINS...',prompt:`PERSONA: Voc√™ √© contador(a) tributarista s√™nior.\nTAREFA: Elaborar planejamento tribut√°rio legal e eficiente.\nBASE LEGAL: IRPJ, CSLL, PIS, COFINS e legisla√ß√£o vigente.\nESTRUTURA:\n1. Diagn√≥stico fiscal atual\n2. Comparativo de regimes (Simples, Lucro Presumido, Real)\n3. Oportunidades de economia identificadas\n4. Recomenda√ß√µes legais\n5. Proje√ß√£o de economia${ANTI}\nDADOS:\n[INSIRA: empresa, faturamento e regime atual]`},
{titulo:'Laudo Psicol√≥gico para INSS',area:'psicologia',nivel:'premium',tag:'Laudo Pericial',desc:'Laudo de incapacidade por transtorno mental para benef√≠cio previdenci√°rio. Para psic√≥logos que atendem pacientes em demanda judicial.',preview:'PERSONA: Voc√™ √© psic√≥logo(a) com CRP ativo especializado em avalia√ß√£o pericial.\nTAREFA: Elaborar laudo para afastamento e benef√≠cio INSS...',prompt:`PERSONA: Voc√™ √© psic√≥logo(a) com CRP ativo especializado em avalia√ß√£o pericial.\nTAREFA: Elaborar laudo psicol√≥gico para afastamento e benef√≠cio INSS.\nBASE: Lei 8.213/91 e Resolu√ß√£o CFP 06/2019.\nESTRUTURA:\n1. Identifica√ß√£o do periciado\n2. Anamnese psicol√≥gica\n3. Hist√≥rico de tratamentos\n4. Avalia√ß√£o do estado mental atual\n5. Diagn√≥stico CID-10\n6. Impacto na capacidade laborativa\n7. Conclus√£o e prazo de afastamento${ANTI}\nDADOS:\n[INSIRA: paciente, diagn√≥stico e hist√≥rico]`},
// ‚îÄ‚îÄ 20 NOVOS PROMPTS PREMIUM ‚îÄ‚îÄ
{titulo:'Diagn√≥stico Empresarial 360¬∞ (Consultoria)',area:'negocios',nivel:'premium',tag:'Consultoria',desc:'Diagn√≥stico completo da empresa com McKinsey 7-S, SWOT, gargalos e plano de a√ß√£o 90 dias. O que consultores cobram R$5.000 para entregar.',preview:'PERSONA: Voc√™ √© consultor(a) empresarial s√™nior com MBA e 20 anos em McKinsey/BCG.\nTAREFA: Realizar diagn√≥stico empresarial 360¬∞.\nMETODOLOGIA: Framework 7-S McKinsey...',prompt:`PERSONA: Voc√™ √© consultor(a) empresarial s√™nior com MBA e 20 anos de experi√™ncia em grandes consultorias.\nTAREFA: Realizar diagn√≥stico empresarial completo e gerar plano de a√ß√£o priorit√°rio.\nMETODOLOGIA: Framework 7-S McKinsey + An√°lise SWOT + Canvas de Modelo de Neg√≥cio.\nESTRUTURA:\n1. Resumo Executivo (situa√ß√£o atual em 3 linhas)\n2. An√°lise dos 7 S's (Strategy, Structure, Systems, Staff, Skills, Style, Shared Values)\n3. An√°lise SWOT detalhada\n4. Mapeamento dos 5 principais gargalos\n5. An√°lise financeira simplificada (margem, liquidez, inadimpl√™ncia)\n6. Benchmark com concorrentes\n7. Plano de A√ß√£o 90 dias (Quick Wins, M√©dio Prazo, Longo Prazo)\n8. KPIs de acompanhamento${ANTI}\nDADOS:\n[INSIRA: segmento, faturamento, n¬∫ de funcion√°rios, principais problemas e concorrentes]`},
{titulo:'Pitch Deck para Investidores',area:'negocios',nivel:'premium',tag:'Investimento',desc:'Roteiro completo nos moldes Y Combinator e Sequoia Capital. Para startups e empresas que querem captar investimento s√©rio.',preview:'PERSONA: Voc√™ √© advisor de startups com experi√™ncia em Y Combinator e 50+ pitches aprovados.\nTAREFA: Criar roteiro completo de pitch deck.\nESTRUTURA: 10 slides essenciais...',prompt:`PERSONA: Voc√™ √© advisor de startups com experi√™ncia em Y Combinator e mais de 50 pitches aprovados.\nTAREFA: Criar roteiro completo de pitch deck para investidores.\nFORMATO: Estrutura dos 10 slides essenciais (padr√£o Sequoia Capital).\nCONTE√öDO DE CADA SLIDE:\n1. Cover ‚Äî Nome, tagline de 1 linha e contato\n2. O Problema ‚Äî Dor real, tamanho e urg√™ncia\n3. A Solu√ß√£o ‚Äî Como voc√™ resolve de forma √∫nica\n4. Produto ‚Äî Demo ou screenshots + diferencial t√©cnico\n5. Mercado ‚Äî TAM, SAM, SOM com fontes\n6. Modelo de Neg√≥cio ‚Äî Como ganha dinheiro\n7. Tra√ß√£o ‚Äî M√©tricas, clientes, crescimento MoM\n8. Time ‚Äî Fundadores e credenciais\n9. Competi√ß√£o ‚Äî Matriz competitiva honesta\n10. Uso dos Recursos ‚Äî Quanto levanta e onde aplica\nNARRATIVA: Script de apresenta√ß√£o para cada slide${ANTI}\nDADOS:\n[INSIRA: startup, problema, solu√ß√£o, tra√ß√£o atual, time e quanto quer captar]`},
{titulo:'An√°lise de Cl√°usulas Contratuais (Red Flags)',area:'juridico',nivel:'premium',tag:'An√°lise Contratual',desc:'Analisa contratos identificando cl√°usulas abusivas, desequil√≠brios e riscos ocultos. Para quem quer saber o que est√° assinando.',preview:'PERSONA: Voc√™ √© advogado(a) especialista em direito contratual com 20 anos de revis√£o de contratos.\nTAREFA: Analisar contrato e identificar red flags e riscos...',prompt:`PERSONA: Voc√™ √© advogado(a) especialista em direito contratual com 20 anos de experi√™ncia em revis√£o e negocia√ß√£o.\nTAREFA: Analisar contrato completo e entregar relat√≥rio de riscos.\nMETODOLOGIA: An√°lise clause-by-clause com classifica√ß√£o de risco (Alta/M√©dia/Baixa).\nESTRUTURA DO RELAT√ìRIO:\n1. Resumo executivo do contrato (tipo, partes, objeto, valor, prazo)\n2. Mapa de riscos (tabela: cl√°usula | risco | n√≠vel | recomenda√ß√£o)\n3. Cl√°usulas abusivas identificadas\n4. Cl√°usulas ausentes (o que DEVERIA estar e n√£o est√°)\n5. Desequil√≠brio contratual (quem tem mais poder?)\n6. Sugest√µes de reda√ß√£o alternativa para cl√°usulas cr√≠ticas\n7. Parecer final: assinar, renegociar ou recusar${ANTI}\nDADOS:\n[COLE AQUI O TEXTO COMPLETO DO CONTRATO A SER ANALISADO]`},
{titulo:'Protocolo Cl√≠nico de Triagem (SOAP Avan√ßado)',area:'medico',nivel:'premium',tag:'Protocolo Cl√≠nico',desc:'Protocolo de triagem completo para PS e UBS. Estrutura o racioc√≠nio cl√≠nico em situa√ß√µes de alta press√£o e volume de atendimento.',preview:'PERSONA: Voc√™ √© m√©dico(a) emergencista com 20 anos em PS de hospital terci√°rio.\nTAREFA: Gerar protocolo SOAP avan√ßado com scoring cl√≠nico...',prompt:`PERSONA: Voc√™ √© m√©dico(a) emergencista com 20 anos de experi√™ncia em Pronto-Socorro de hospital terci√°rio.\nTAREFA: Estruturar protocolo cl√≠nico completo para o caso apresentado.\nBASE: Diretrizes CFM, Minist√©rio da Sa√∫de e medicina baseada em evid√™ncias.\nESTRUTURA:\nS ‚Äî Subjetivo (queixa principal, HDA, antecedentes, alergias, medicamentos)\nO ‚Äî Objetivo (sinais vitais, escores: Glasgow, SOFA, Wells, exame f√≠sico orientado)\nA ‚Äî Avalia√ß√£o (diagn√≥stico principal + diferenciais + gravidade)\nP ‚Äî Plano (conduta imediata, exames, medicamentos com dose/via/dura√ß√£o, crit√©rios interna√ß√£o vs alta)\nRED FLAGS: sinais de alerta para reavalia√ß√£o urgente${ANTI}\nDADOS:\n[INSIRA: idade, sexo, queixa, sinais vitais, hist√≥rico relevante e alergias]`},
{titulo:'Declara√ß√£o IRPJ Completa',area:'contabil',nivel:'premium',tag:'IRPJ',desc:'Orienta√ß√£o completa para apura√ß√£o e declara√ß√£o de IRPJ nos tr√™s regimes. Para contadores que querem dominar o processo sem erros que geram multas.',preview:'PERSONA: Voc√™ √© contador(a) tributarista com 20 anos em IRPJ e CSLL.\nTAREFA: Orientar apura√ß√£o e entrega do IRPJ.\nREGIMES: Lucro Real, Presumido e Simples...',prompt:`PERSONA: Voc√™ √© contador(a) tributarista com 20 anos de experi√™ncia em IRPJ e CSLL.\nTAREFA: Orientar completa apura√ß√£o, c√°lculo e declara√ß√£o do IRPJ.\nCOBERTURA: Lucro Real, Lucro Presumido e Simples Nacional.\nESTRUTURA:\n1. Identifica√ß√£o do regime tribut√°rio e obriga√ß√µes acess√≥rias\n2. Apura√ß√£o da base de c√°lculo por regime\n3. Adi√ß√µes e exclus√µes ao lucro real (se aplic√°vel)\n4. C√°lculo IRPJ + CSLL + adicional de 10%\n5. Compensa√ß√µes e dedu√ß√µes permitidas\n6. Cronograma de obriga√ß√µes (SPED, ECF, ECD)\n7. Pontos cr√≠ticos e riscos de malha\n8. Checklist final antes da entrega${ANTI}\nDADOS:\n[INSIRA: empresa, CNPJ, regime tribut√°rio, faturamento do exerc√≠cio e dados cont√°beis principais]`},
{titulo:'Tese de Defesa Administrativa',area:'juridico',nivel:'avancado',tag:'Defesa Administrativa',desc:'Defesa administrativa para autua√ß√µes fiscais, sanit√°rias, trabalhistas e previdenci√°rias. Para advogados e empresas que precisam se defender de multas.',preview:'PERSONA: Voc√™ √© advogado(a) administrativista especialista em defesas perante √≥rg√£os p√∫blicos.\nTAREFA: Redigir defesa administrativa completa.\nBASE: Lei 9.784/99...',prompt:`PERSONA: Voc√™ √© advogado(a) administrativista especialista em defesas perante √≥rg√£os p√∫blicos federais e estaduais.\nTAREFA: Redigir defesa administrativa t√©cnica e completa.\nBASE: Lei 9.784/99 (Processo Administrativo Federal) e legisla√ß√£o espec√≠fica do √≥rg√£o autuador.\nESTRUTURA:\n1. Qualifica√ß√£o do defendente\n2. Do auto de infra√ß√£o / ato impugnado\n3. Dos fatos (vers√£o do defendente)\n4. Das preliminares (nulidades, prazo, compet√™ncia)\n5. Do m√©rito (impugna√ß√£o t√©cnica ponto a ponto)\n6. Das provas dispon√≠veis\n7. Da redu√ß√£o ou cancelamento da penalidade\n8. Do pedido${ANTI}\nDADOS:\n[INSIRA: √≥rg√£o autuador, n¬∫ do processo, auto de infra√ß√£o, fatos e argumentos de defesa]`},
{titulo:'Precifica√ß√£o Estrat√©gica',area:'financeiro',nivel:'avancado',tag:'Precifica√ß√£o',desc:'Calcula o pre√ßo ideal com margem de contribui√ß√£o, ponto de equil√≠brio e posicionamento. Para empresas que n√£o sabem se est√£o lucrando de verdade.',preview:'PERSONA: Voc√™ √© controller financeiro e especialista em precifica√ß√£o estrat√©gica.\nTAREFA: Calcular pre√ßo ideal e analisar viabilidade.\nMETODOLOGIA: Triple P ‚Äî Cost + Margin + Positioning...',prompt:`PERSONA: Voc√™ √© controller financeiro e especialista em precifica√ß√£o estrat√©gica com 20 anos de experi√™ncia.\nTAREFA: Calcular o pre√ßo ideal e analisar a viabilidade financeira do produto/servi√ßo.\nMETODOLOGIA: Triple P ‚Äî Product Cost + Profit Margin + Positioning.\nESTRUTURA:\n1. Levantamento de todos os custos (diretos e indiretos rateados)\n2. C√°lculo do custo unit√°rio total\n3. Defini√ß√£o da margem de contribui√ß√£o desejada\n4. Pre√ßo m√≠nimo de sobreviv√™ncia vs. pre√ßo ideal\n5. Ponto de equil√≠brio (quantidade e faturamento)\n6. An√°lise de posicionamento vs. concorr√™ncia\n7. Simula√ß√µes de cen√°rios (pessimista, realista, otimista)\n8. Recomenda√ß√£o final de pre√ßo e estrat√©gia${ANTI}\nDADOS:\n[INSIRA: produto/servi√ßo, custos vari√°veis, custos fixos mensais, volume estimado e pre√ßos da concorr√™ncia]`},
{titulo:'Programa de Gerenciamento de Riscos (PGR)',area:'engenharia',nivel:'premium',tag:'Seguran√ßa do Trabalho',desc:'PGR completo conforme NR-1 (2022). Para engenheiros de seguran√ßa e empresas que precisam estar em conformidade legal e evitar autua√ß√µes.',preview:'PERSONA: Voc√™ √© engenheiro(a) de seguran√ßa do trabalho com CREA e NRs dominadas.\nTAREFA: Elaborar PGR conforme NR-1 revisada 2022...',prompt:`PERSONA: Voc√™ √© engenheiro(a) de seguran√ßa do trabalho com CREA ativo e expertise em todas as NRs.\nTAREFA: Elaborar Programa de Gerenciamento de Riscos (PGR) completo.\nBASE LEGAL: NR-1 (revisada 2022) e NRs espec√≠ficas da atividade.\nESTRUTURA DO PGR:\n1. Identifica√ß√£o da empresa e estabelecimento\n2. Invent√°rio de riscos (f√≠sico, qu√≠mico, biol√≥gico, ergon√¥mico, mec√¢nico)\n3. Classifica√ß√£o dos riscos (probabilidade x gravidade = risco)\n4. Medidas de controle por risco\n5. Plano de a√ß√£o com respons√°veis e prazos (5W2H)\n6. Treinamentos obrigat√≥rios por fun√ß√£o\n7. EPIs e EPCs necess√°rios\n8. Cronograma de revis√£o do PGR${ANTI}\nDADOS:\n[INSIRA: empresa, CNAE, n¬∫ de funcion√°rios, atividades desenvolvidas e riscos conhecidos]`},
{titulo:'An√°lise de Viabilidade de Investimento Imobili√°rio',area:'financeiro',nivel:'premium',tag:'Imobili√°rio',desc:'An√°lise completa de TIR, VPL, payback e Cap Rate para investimento imobili√°rio. Para investidores que querem n√∫meros, n√£o achismos.',preview:'PERSONA: Voc√™ √© analista financeiro especialista em investimentos imobili√°rios.\nTAREFA: Calcular viabilidade completa.\nM√âTRICAS: TIR, VPL, Cap Rate, Payback...',prompt:`PERSONA: Voc√™ √© analista financeiro especialista em investimentos imobili√°rios com 20 anos de mercado.\nTAREFA: Realizar an√°lise completa de viabilidade de investimento imobili√°rio.\nM√âTRICAS: TIR, VPL, Cap Rate, Payback, ROI e ROCE.\nESTRUTURA:\n1. Resumo do investimento (tipo, localiza√ß√£o, valor)\n2. Proje√ß√£o de receitas (aluguel ou venda)\n3. Proje√ß√£o de custos (condom√≠nio, IPTU, manuten√ß√£o, vac√¢ncia)\n4. Fluxo de caixa mensal projetado (60 meses)\n5. C√°lculo TIR e VPL (com taxa de desconto e SELIC atual)\n6. Cap Rate e comparativo com renda fixa\n7. Payback simples e descontado\n8. An√°lise de sensibilidade (melhor e pior cen√°rio)\n9. Recomenda√ß√£o: comprar, aguardar ou descartar${ANTI}\nDADOS:\n[INSIRA: valor do im√≥vel, custos de aquisi√ß√£o, valor estimado de aluguel ou venda futura, custos mensais]`},
{titulo:'Programa de Treino Personalizado',area:'saude',nivel:'intermediario',tag:'Educa√ß√£o F√≠sica',desc:'Programa de treino com periodiza√ß√£o, s√©ries, repeti√ß√µes e progress√£o baseada em ci√™ncia. Para educadores f√≠sicos e entusiastas do fitness.',preview:'PERSONA: Voc√™ √© educador(a) f√≠sico(a) com CREF ativo e especializa√ß√£o em treinamento.\nTAREFA: Elaborar programa de treino personalizado e periodizado...',prompt:`PERSONA: Voc√™ √© educador(a) f√≠sico(a) com CREF ativo e especializa√ß√£o em treinamento de for√ßa e condicionamento.\nTAREFA: Elaborar programa de treino personalizado e periodizado.\nBASE CIENT√çFICA: Princ√≠pios do treinamento (sobrecarga, especificidade, individualidade, varia√ß√£o).\nESTRUTURA:\n1. Avalia√ß√£o do perfil (objetivo, n√≠vel, disponibilidade, restri√ß√µes)\n2. Periodiza√ß√£o (fase adapta√ß√£o, for√ßa, hipertrofia, pot√™ncia)\n3. Divis√£o de treinos por semana (A/B ou A/B/C ou A/B/C/D)\n4. Para cada treino: exerc√≠cios, s√©ries, repeti√ß√µes, carga sugerida, descanso\n5. Aquecimento e desaquecimento\n6. Progress√£o de carga (sobrecarga progressiva)\n7. Deload programado\n8. Recomenda√ß√µes nutricionais b√°sicas${ANTI}\nDADOS:\n[INSIRA: sexo, idade, peso, altura, objetivo, n√≠vel, dias dispon√≠veis, equipamentos e restri√ß√µes f√≠sicas]`},
{titulo:'Protocolo Nutricional para Performance',area:'saude',nivel:'avancado',tag:'Nutri√ß√£o Esportiva',desc:'Protocolo nutricional periodizado para atletas: periodiza√ß√£o de macros, timing de nutrientes e suplementa√ß√£o baseada em evid√™ncias ISSN.',preview:'PERSONA: Voc√™ √© nutricionista esportivo(a) com CRN ativo e atletas de elite na carteira.\nTAREFA: Criar protocolo nutricional para performance...',prompt:`PERSONA: Voc√™ √© nutricionista esportivo(a) com CRN ativo e experi√™ncia com atletas de elite.\nTAREFA: Criar protocolo nutricional completo e periodizado para performance.\nBASE: ISSN Guidelines e SBME (Sociedade Brasileira de Medicina do Esporte).\nESTRUTURA:\n1. Avalia√ß√£o do perfil e objetivos\n2. C√°lculo do GET (Gasto Energ√©tico Total) com fator de atividade\n3. Distribui√ß√£o de macronutrientes por fase de treino\n4. Estrat√©gia pr√©-treino (timing, composi√ß√£o)\n5. Nutri√ß√£o intra-treino (quando aplic√°vel)\n6. Nutri√ß√£o p√≥s-treino (janela metab√≥lica)\n7. Hidrata√ß√£o e eletr√≥litos\n8. Suplementa√ß√£o baseada em evid√™ncias (creatina, cafe√≠na, beta-alanina, etc.)\n9. Exemplo de card√°pio semanal${ANTI}\nDADOS:\n[INSIRA: sexo, peso, altura, idade, modalidade, volume de treino, objetivo e restri√ß√µes alimentares]`},
{titulo:'An√°lise de Dados com Insights de Neg√≥cio',area:'ti',nivel:'premium',tag:'Data Analytics',desc:'Transforma dados brutos em insights acion√°veis com an√°lise descritiva, diagn√≥stica e preditiva. Para analistas e gestores que decidem com dados.',preview:'PERSONA: Voc√™ √© analista de dados s√™nior com expertise em Business Intelligence.\nTAREFA: Analisar dataset e extrair insights acion√°veis de neg√≥cio...',prompt:`PERSONA: Voc√™ √© analista de dados s√™nior com expertise em Business Intelligence e Data Science aplicado a neg√≥cios.\nTAREFA: Analisar os dados fornecidos e entregar insights acion√°veis para tomada de decis√£o.\nMETODOLOGIA: Framework em 4 camadas (Descritiva ‚Üí Diagn√≥stica ‚Üí Preditiva ‚Üí Prescritiva).\nESTRUTURA:\n1. Entendimento do contexto de neg√≥cio\n2. An√°lise Descritiva (o que aconteceu? m√©tricas, tend√™ncias, sazonalidade)\n3. An√°lise Diagn√≥stica (por que aconteceu? causas-raiz)\n4. An√°lise Preditiva (o que pode acontecer? proje√ß√µes)\n5. An√°lise Prescritiva (o que fazer? a√ß√µes concretas)\n6. Prioriza√ß√£o dos insights (impacto x esfor√ßo)\n7. KPIs para monitorar as a√ß√µes recomendadas${ANTI}\nDADOS:\n[COLE AQUI OS DADOS: per√≠odo, m√©tricas dispon√≠veis, contexto do neg√≥cio e pergunta a responder]`},
{titulo:'Planejamento Financeiro Pessoal',area:'financeiro',nivel:'intermediario',tag:'Finan√ßas Pessoais',desc:'Planejamento completo com or√ßamento, quita√ß√£o de d√≠vidas, reserva de emerg√™ncia e metas de investimento. Para quem quer sair do vermelho e construir patrim√¥nio.',preview:'PERSONA: Voc√™ √© planejador(a) financeiro(a) CFP.\nTAREFA: Elaborar planejamento financeiro pessoal completo...',prompt:`PERSONA: Voc√™ √© planejador(a) financeiro(a) pessoal certificado(a) CFP (Certified Financial Planner).\nTAREFA: Elaborar planejamento financeiro pessoal completo e ating√≠vel.\nMETODOLOGIA: 6 passos do CFP Board.\nESTRUTURA:\n1. Diagn√≥stico financeiro atual (balan√ßo patrimonial pessoal)\n2. Or√ßamento mensal (receitas, despesas fixas, vari√°veis, sup√©rfluas)\n3. Identifica√ß√£o de vazamentos financeiros\n4. Plano de quita√ß√£o de d√≠vidas (avalanche vs bola de neve)\n5. Reserva de emerg√™ncia (quanto e onde guardar)\n6. Metas financeiras de curto, m√©dio e longo prazo\n7. Estrat√©gia de investimentos por perfil e objetivo\n8. Prote√ß√£o patrimonial (seguros necess√°rios)\n9. Previd√™ncia e aposentadoria${ANTI}\nDADOS:\n[INSIRA: renda mensal l√≠quida, despesas mensais, d√≠vidas, patrim√¥nio atual e objetivos de vida]`},
{titulo:'Estrat√©gia de Growth Marketing',area:'marketing',nivel:'premium',tag:'Growth',desc:'Framework AARRR completo com funil de aquisi√ß√£o, ativa√ß√£o, reten√ß√£o e receita. Para empresas que querem crescimento previs√≠vel e escal√°vel.',preview:'PERSONA: Voc√™ √© Growth Hacker s√™nior com experi√™ncia em scale-ups e unic√≥rnios brasileiros.\nTAREFA: Criar estrat√©gia completa de growth marketing.\nFRAMEWORK: AARRR (Pirate Metrics)...',prompt:`PERSONA: Voc√™ √© Growth Hacker s√™nior com experi√™ncia em scale-ups e unic√≥rnios brasileiros.\nTAREFA: Criar estrat√©gia completa de growth marketing baseada em dados.\nFRAMEWORK: AARRR (Pirate Metrics) + Growth Loops.\nESTRUTURA:\n1. North Star Metric (m√©trica que representa o valor entregue)\n2. Mapeamento do funil atual (onde chegam e onde saem usu√°rios)\n3. AARRR completo:\n   - Acquisition: canais, CAC por canal, qualidade de lead\n   - Activation: primeiro valor entregue, taxa de ativa√ß√£o\n   - Retention: cohort analysis, churn, estrat√©gias de reten√ß√£o\n   - Revenue: ARPU, LTV, upsell e cross-sell\n   - Referral: NPS, programa de indica√ß√£o\n4. Top 3 gargalos identificados\n5. Roadmap de experimentos (hip√≥tese, m√©tricas, prazo)\n6. Stack de ferramentas recomendada${ANTI}\nDADOS:\n[INSIRA: produto, modelo de neg√≥cio, m√©tricas atuais, CAC, LTV e canais principais]`},
{titulo:'Manual de Identidade Visual da Marca',area:'marketing',nivel:'avancado',tag:'Branding',desc:'Especifica√ß√µes completas de identidade visual: logo, cores, tipografia, tom de voz e aplica√ß√µes. Para empresas que querem marca consistente e profissional.',preview:'PERSONA: Voc√™ √© diretor(a) de arte e estrategista de branding com 20 anos de mercado.\nTAREFA: Criar manual completo de identidade visual...',prompt:`PERSONA: Voc√™ √© diretor(a) de arte e estrategista de branding com 20 anos de mercado.\nTAREFA: Criar especifica√ß√µes completas do manual de identidade visual da marca.\nESTRUTURA DO MANUAL:\n1. Posicionamento de marca (miss√£o, vis√£o, valores, proposta √∫nica)\n2. Arqu√©tipos de marca e personalidade\n3. Logotipo: vers√µes, usos corretos e incorretos, √°rea de prote√ß√£o\n4. Paleta de cores: prim√°rias, secund√°rias e neutras (HEX, RGB, CMYK, Pantone)\n5. Tipografia: fontes prim√°rias e secund√°rias, hierarquia tipogr√°fica\n6. Elementos gr√°ficos e padr√µes\n7. Tom de voz e linguagem (como a marca fala, palavras que usa e evita)\n8. Aplica√ß√µes: cart√£o, papel timbrado, redes sociais, embalagem\n9. Fotografia e iconografia\n10. Exemplos de aplica√ß√µes corretas e proibidas${ANTI}\nDADOS:\n[INSIRA: nome da marca, segmento, p√∫blico, valores, cores/refer√™ncias e identidade desejada]`},
{titulo:'Processo Seletivo Completo (R&S)',area:'negocios',nivel:'avancado',tag:'Recrutamento',desc:'Processo seletivo do zero: job description, triagem, entrevistas STAR e parecer final. Para RHs que querem contratar certo na primeira vez.',preview:'PERSONA: Voc√™ √© especialista em Recrutamento e Sele√ß√£o com 20 anos de experi√™ncia.\nTAREFA: Estruturar processo seletivo completo do zero...',prompt:`PERSONA: Voc√™ √© especialista em Recrutamento e Sele√ß√£o com 20 anos de experi√™ncia em grandes empresas.\nTAREFA: Estruturar processo seletivo completo e profissional.\nESTRUTURA:\n1. Job Description atrativo (t√≠tulo, miss√£o do cargo, responsabilidades, requisitos, benef√≠cios)\n2. An√∫ncio para LinkedIn, Indeed e Gupy\n3. Crit√©rios de triagem curricular (eliminat√≥rios vs. desej√°veis)\n4. Guia de entrevista comportamental (perguntas STAR por compet√™ncia)\n5. Teste t√©cnico ou case (quando aplic√°vel)\n6. Avalia√ß√£o de fit cultural\n7. Formul√°rio de feedback de entrevista\n8. Template de proposta de emprego\n9. Plano de onboarding dos primeiros 30 dias${ANTI}\nDADOS:\n[INSIRA: cargo, √°rea, n√≠vel, requisitos t√©cnicos, compet√™ncias comportamentais e cultura da empresa]`},
{titulo:'Parecer T√©cnico de Avalia√ß√£o Imobili√°ria (PTAM)',area:'engenharia',nivel:'premium',tag:'Avalia√ß√£o Imobili√°ria',desc:'PTAM completo conforme ABNT NBR 14653 para corretores e engenheiros. Avalia√ß√£o imobili√°ria reconhecida para qualquer finalidade legal.',preview:'PERSONA: Voc√™ √© engenheiro(a) de avalia√ß√µes com CREA ativo e certifica√ß√£o IBAPE.\nTAREFA: Elaborar PTAM completo conforme NBR 14653...',prompt:`PERSONA: Voc√™ √© engenheiro(a) de avalia√ß√µes com CREA ativo e certifica√ß√£o IBAPE.\nTAREFA: Elaborar Parecer T√©cnico de Avalia√ß√£o Mercadol√≥gica (PTAM) completo.\nBASE: ABNT NBR 14653 (partes 1 e 2).\nESTRUTURA:\n1. Identifica√ß√£o do im√≥vel e solicitante\n2. Objeto e finalidade da avalia√ß√£o\n3. Documenta√ß√£o analisada\n4. Vistoria (descri√ß√£o, estado de conserva√ß√£o, benfeitorias)\n5. Pesquisa de mercado (im√≥veis compar√°veis ‚Äî m√≠nimo 3)\n6. Tratamento dos dados (homogeneiza√ß√£o e fatores)\n7. Metodologia utilizada (comparativo, custo, renda)\n8. Valor calculado e resultado\n9. Limita√ß√µes e ressalvas\n10. Assinatura, CREA e ART${ANTI}\nDADOS:\n[INSIRA: endere√ßo, √°rea, tipo de im√≥vel, estado de conserva√ß√£o, finalidade e compar√°veis dispon√≠veis]`},
{titulo:'Protocolo de Atendimento ao Cliente Premium',area:'negocios',nivel:'avancado',tag:'Customer Success',desc:'Manual completo de CX com scripts, gest√£o de reclama√ß√µes e m√©tricas de satisfa√ß√£o. Para empresas que querem NPS acima de 70.',preview:'PERSONA: Voc√™ √© especialista em Customer Experience e Customer Success.\nTAREFA: Criar protocolo completo de atendimento premium...',prompt:`PERSONA: Voc√™ √© especialista em Customer Experience e Customer Success com 20 anos transformando opera√ß√µes de atendimento.\nTAREFA: Criar protocolo completo de atendimento ao cliente premium.\nMETODOLOGIA: Framework HEART (Helpful, Empathetic, Accountable, Responsive, Trustworthy).\nESTRUTURA:\n1. Pilares do atendimento premium\n2. Jornada do cliente (mapeamento de todos os touchpoints)\n3. Scripts por canal (telefone, chat, e-mail, WhatsApp)\n4. Protocolo de gest√£o de reclama√ß√µes (5 passos para reverter insatisfa√ß√£o)\n5. Gest√£o de clientes dif√≠ceis (t√©cnicas de desescalada)\n6. SLA por tipo de demanda (tempo de resposta e resolu√ß√£o)\n7. M√©tricas: CSAT, NPS, TMA, TRT, FCR\n8. Programa de fideliza√ß√£o e surpresa positiva\n9. Treinamento da equipe${ANTI}\nDADOS:\n[INSIRA: empresa, produto/servi√ßo, principais reclama√ß√µes, canais de atendimento e NPS atual]`},
{titulo:'Plano de Carreira e PDI',area:'outro',nivel:'avancado',tag:'Carreira',desc:'Plano de carreira com autoconhecimento, metas, compet√™ncias a desenvolver e plano de a√ß√£o 70-20-10. Para profissionais que querem crescer com estrat√©gia.',preview:'PERSONA: Voc√™ √© coach de carreira certificado(a) ICF com especializa√ß√£o em desenvolvimento humano.\nTAREFA: Criar plano de carreira e PDI completo...',prompt:`PERSONA: Voc√™ √© coach de carreira certificado(a) pelo ICF e especialista em desenvolvimento humano e organizacional.\nTAREFA: Criar Plano de Carreira e PDI (Plano de Desenvolvimento Individual) completo.\nMETODOLOGIA: Framework Ikigai + Modelo 70-20-10 de Desenvolvimento.\nESTRUTURA:\n1. Autoconhecimento (valores, for√ßas, talentos, gaps ‚Äî SWOT pessoal)\n2. Vis√£o de futuro (onde quero estar em 1, 3 e 5 anos)\n3. Gap de compet√™ncias (onde estou vs. onde preciso estar)\n4. Plano de desenvolvimento por compet√™ncia:\n   - 70% on-the-job (projetos, desafios, stretch assignments)\n   - 20% social (mentoria, networking, feedback)\n   - 10% formal (cursos, certifica√ß√µes, livros)\n5. Cronograma de a√ß√µes com milestones\n6. Rede de apoio (mentores, sponsors, aliados)\n7. Indicadores de progresso\n8. Revis√£o trimestral do PDI${ANTI}\nDADOS:\n[INSIRA: cargo atual, √°rea, experi√™ncias, objetivos, pontos fortes e pontos de melhoria]`},
];

let todosPrompts = [];
let areaAtiva = 'todos';
let pedidoAtual = null;
let entregaOpc = 'email';
let pedidoAdminAtual = null;

function carregarPrompts() {
    db.ref('promptus_prompts').once('value').then(snap => {
        if (!snap.exists()) {
            TODOS_PROMPTS_INICIAIS.forEach(p => {
                db.ref('promptus_prompts').push({ ...p, criadoEm: Date.now() });
            });
            setTimeout(carregarPrompts, 3500);
            return;
        }
        todosPrompts = [];
        snap.forEach(child => { todosPrompts.push({ id: child.key, ...child.val() }); });
        renderFiltros();
        renderPrompts();
        renderAdminPrompts();
    }).catch(err => { console.error('Erro ao carregar prompts:', err); });
}

function renderFiltros() {
    const wrap = document.getElementById('filtros-wrap');
    if (!wrap) return;
    wrap.innerHTML = '';
    AREAS.forEach(a => {
        const btn = document.createElement('button');
        btn.className = 'filtro' + (a.key === areaAtiva ? ' ativo' : '');
        btn.innerText = a.emoji + ' ' + a.label;
        btn.onclick = () => { areaAtiva = a.key; renderFiltros(); renderPrompts(); };
        wrap.appendChild(btn);
    });
}

function renderPrompts() {
    const busca = (document.getElementById('busca')?.value || '').toLowerCase();
    const grid = document.getElementById('prompts-grid');
    const lbl = document.getElementById('grid-label');
    if (!grid) return;
    let lista = todosPrompts.filter(p => {
        const mA = areaAtiva === 'todos' || p.area === areaAtiva;
        const mB = !busca || p.titulo.toLowerCase().includes(busca) || p.desc.toLowerCase().includes(busca) || p.tag.toLowerCase().includes(busca);
        return mA && mB;
    });
    const areaLabel = AREAS.find(a => a.key === areaAtiva);
    if (lbl) lbl.innerHTML = (areaAtiva === 'todos' ? 'Todos os Prompts' : (areaLabel?.emoji + ' ' + areaLabel?.label)) + ' <span style="opacity:0.4;font-size:10px;">(' + lista.length + ')</span>';
    grid.innerHTML = '';
    if (lista.length === 0) { grid.innerHTML = '<div class="vazio">Nenhum prompt encontrado.</div>'; return; }
    lista.forEach((p, i) => {
        const areaInfo = AREAS.find(a => a.key === p.area);
        const card = document.createElement('div');
        card.className = 'pcard';
        card.style.animationDelay = (i * 0.03) + 's';
        card.innerHTML = `
            <div class="pcard-top">
                <div class="pcard-area">${areaInfo?.emoji || ''} ${areaInfo?.label || p.area}</div>
                <div class="pcard-titulo">${p.titulo}</div>
                <div class="pcard-desc">${p.desc}</div>
            </div>
            <div class="pcard-preview">
                <div class="pcard-preview-texto">${p.preview || ''}</div>
                <div class="pcard-preview-blur"><div class="lock-pill">üîí Desbloqueado ap√≥s compra</div></div>
            </div>
            <div class="pcard-bottom">
                <div class="pcard-tags">
                    <span class="tag ${NIVEIS_TAG[p.nivel] || ''}">${NIVEIS_LABEL[p.nivel] || ''}</span>
                    <span class="tag">${p.tag}</span>
                </div>
                <div style="display:flex;align-items:center;gap:12px;">
                    <span class="pcard-preco">${PRECOS_LABEL[p.nivel] || 'R$19,90'}</span>
                    <button class="btn-comprar" onclick='abrirCompra(${JSON.stringify(p).replace(/'/g,"&apos;")})'>COMPRAR</button>
                </div>
            </div>`;
        grid.appendChild(card);
    });
}
function filtrarPrompts() { renderPrompts(); }

function abrirCompra(p) {
    pedidoAtual = p;
    document.getElementById('s1-titulo').innerText = p.titulo;
    document.getElementById('s1-erro').innerText = '';
    document.getElementById('s1-nome').value = '';
    document.getElementById('s1-email').value = '';
    document.getElementById('s1-whats').value = '';
    selecionarEntrega('email');
    mostrarStep('step1');
    document.getElementById('overlay-compra').classList.add('show');
}

function selecionarEntrega(tipo) {
    entregaOpc = tipo;
    ['email','whats','ambos'].forEach(t => { document.getElementById('opt-'+t).classList.toggle('sel', t === tipo); });
}

function irParaPix() {
    const nome = document.getElementById('s1-nome').value.trim();
    const email = document.getElementById('s1-email').value.trim();
    const whats = document.getElementById('s1-whats').value.trim();
    const erro = document.getElementById('s1-erro');
    if (!nome) { erro.innerText = 'INFORME SEU NOME COMPLETO'; return; }
    if (!email || !email.includes('@')) { erro.innerText = 'INFORME UM E-MAIL V√ÅLIDO'; return; }
    if (!whats || whats.replace(/\D/g,'').length < 10) { erro.innerText = 'INFORME SEU WHATSAPP COM DDD'; return; }
    document.getElementById('s2-titulo').innerText = pedidoAtual.titulo;
    document.getElementById('s2-preco').innerText = PRECOS_LABEL[pedidoAtual.nivel] || 'R$19,90';
    const entregaTexto = entregaOpc === 'email' ? 'E-mail' : entregaOpc === 'whats' ? 'WhatsApp' : 'E-mail e WhatsApp';
    document.getElementById('s2-entrega').innerText = entregaTexto;
    mostrarStep('step2');
}

function abrirWhatsComprovante(e) {
    e.preventDefault();
    const nome = document.getElementById('s1-nome').value.trim() || 'Cliente';
    const email = document.getElementById('s1-email').value.trim() || '';
    const prompt = pedidoAtual?.titulo || 'Prompt';
    const preco = PRECOS_LABEL[pedidoAtual?.nivel] || '';
    const msg = encodeURIComponent(`Ol√°! Acabei de fazer o pagamento via Pix.\n\nüìå Nome: ${nome}\nüìß E-mail: ${email}\nüß† Prompt: ${prompt}\nüí∞ Valor: ${preco}\n\nSegue o comprovante em anexo üìé`);
    window.open(`https://wa.me/5511978857415?text=${msg}`, '_blank');
}

function abrirWhatsStep3(e) {
    e.preventDefault();
    const nome = document.getElementById('s1-nome').value.trim() || 'Cliente';
    const prompt = pedidoAtual?.titulo || 'Prompt';
    const preco = PRECOS_LABEL[pedidoAtual?.nivel] || '';
    const msg = encodeURIComponent(`Ol√°! J√° registrei meu pedido.\n\nüìå Nome: ${nome}\nüß† Prompt: ${prompt}\nüí∞ Valor: ${preco}\n\nSegue o comprovante em anexo üìé`);
    window.open(`https://wa.me/5511978857415?text=${msg}`, '_blank');
}

// ‚≠ê FUN√á√ÉO CR√çTICA ‚Äî SALVAR PEDIDO NO FIREBASE ‚≠ê
function confirmarPagamento() {
    const nome = document.getElementById('s1-nome').value.trim();
    const email = document.getElementById('s1-email').value.trim();
    const whats = document.getElementById('s1-whats').value.trim();
    const entregaTexto = entregaOpc === 'email' ? 'E-mail' : entregaOpc === 'whats' ? 'WhatsApp' : 'E-mail e WhatsApp';

    if (!nome || !email || !whats) { showToast('ERRO: DADOS INCOMPLETOS!'); return; }
    if (!pedidoAtual) { showToast('ERRO: SELECIONE UM PROMPT!'); return; }

    const agora = new Date();
    const pedido = {
        promptId: pedidoAtual.id || 'manual',
        promptTitulo: String(pedidoAtual.titulo || 'Sem t√≠tulo'),
        promptCompleto: String(pedidoAtual.prompt || ''),
        nome: String(nome),
        email: String(email),
        whats: String(whats),
        entrega: String(entregaTexto),
        preco: String(PRECOS_LABEL[pedidoAtual.nivel] || 'R$0'),
        status: 'pendente',
        criadoEm: agora.getTime(),
        criadoEmFormatado: agora.toLocaleString('pt-BR')
    };

    // Usar .push() com callback para garantir salvamento
    const novoRef = db.ref('promptus_pedidos').push();
    novoRef.set(pedido, function(error) {
        if (error) {
            console.error('Firebase error:', error);
            showToast('ERRO AO SALVAR. VERIFIQUE CONEX√ÉO.');
        } else {
            console.log('Pedido salvo com ID:', novoRef.key);
            document.getElementById('s3-entrega').innerText = entregaTexto;
            mostrarStep('step3');
            showToast('PEDIDO SALVO COM SUCESSO!');
        }
    });
}

function mostrarStep(id) {
    ['step1','step2','step3'].forEach(s => { document.getElementById(s).classList.toggle('ativo', s === id); });
}

function fecharOverlay() {
    document.getElementById('overlay-compra').classList.remove('show');
    setTimeout(() => mostrarStep('step1'), 300);
}

function copiarPix() {
    const btn = document.getElementById('btn-copiar-pix');
    const ok = () => { btn.innerText = '‚úì CHAVE COPIADA!'; showToast('CHAVE PIX COPIADA!'); setTimeout(() => { btn.innerText = 'üìã COPIAR CHAVE PIX'; }, 3000); };
    if (navigator.clipboard) navigator.clipboard.writeText(PIX_CHAVE).then(ok).catch(() => fallback(PIX_CHAVE, ok));
    else fallback(PIX_CHAVE, ok);
}

function irParaAdminLogin() { mostrarPagina('page-admin-login'); }

function loginAdmin() {
    const senha = document.getElementById('admin-senha').value;
    if (senha === ADMIN_SENHA) {
        document.getElementById('admin-erro').innerText = '';
        mostrarPagina('page-admin');
        carregarPedidos();
        renderAdminPrompts();
    } else {
        document.getElementById('admin-erro').innerText = 'SENHA INCORRETA';
    }
}

function logoutAdmin() { mostrarPagina('page-admin-login'); }
function irParaLoja() { mostrarPagina('page-loja'); }

function mudarTab(tab, el) {
    document.querySelectorAll('.admin-tab').forEach(t => t.classList.remove('ativo'));
    document.querySelectorAll('.admin-panel').forEach(p => p.classList.remove('ativo'));
    el.classList.add('ativo');
    document.getElementById('panel-' + tab).classList.add('ativo');
    if (tab === 'pedidos') carregarPedidos();
    if (tab === 'prompts') renderAdminPrompts();
}

function carregarPedidos() {
    const grid = document.getElementById('pedidos-grid');
    if (grid) grid.innerHTML = '<div style="text-align:center;padding:40px;color:var(--sub);">Carregando...</div>';

    db.ref('promptus_pedidos').orderByChild('criadoEm').once('value').then(snap => {
        if (!grid) return;
        if (!snap.exists()) {
            grid.innerHTML = '<div style="text-align:center;padding:40px;color:var(--sub);">Nenhum pedido ainda. Aguardando compras!</div>';
            document.getElementById('stat-pedidos').innerText = '0';
            document.getElementById('stat-pendentes').innerText = '0';
            document.getElementById('stat-receita').innerText = 'R$0';
            return;
        }
        let pedidos = [];
        snap.forEach(c => pedidos.push({ id: c.key, ...c.val() }));
        pedidos.reverse();

        const pendentes = pedidos.filter(p => p.status === 'pendente').length;
        const receita = pedidos.reduce((acc, p) => {
            const val = parseFloat((p.preco || '0').replace('R$','').replace(',','.')) || 0;
            return acc + val;
        }, 0);
        document.getElementById('stat-pedidos').innerText = pedidos.length;
        document.getElementById('stat-pendentes').innerText = pendentes;
        document.getElementById('stat-receita').innerText = 'R$' + receita.toFixed(2).replace('.',',');

        grid.innerHTML = '';
        pedidos.forEach(p => {
            const div = document.createElement('div');
            div.className = 'pedido-card';
            const data = p.criadoEmFormatado || (p.criadoEm ? new Date(p.criadoEm).toLocaleString('pt-BR') : '-');
            div.innerHTML = `
                <div class="pedido-info">
                    <h3>${p.promptTitulo || 'Sem t√≠tulo'}</h3>
                    <div class="pedido-meta">
                        <span>üë§ ${p.nome || '-'}</span>
                        <span>üìß ${p.email || '-'}</span>
                        <span>üí¨ ${p.whats || '-'}</span>
                        <span>üì¶ ${p.entrega || '-'}</span>
                        <span>üïê ${data}</span>
                    </div>
                </div>
                <div style="display:flex;flex-direction:column;align-items:flex-end;gap:8px;">
                    <span class="pedido-preco">${p.preco || '-'}</span>
                    <span class="pedido-status ${p.status === 'pendente' ? 'status-pendente' : 'status-entregue'}">${p.status === 'pendente' ? '‚è≥ Pendente' : '‚úÖ Entregue'}</span>
                    <div class="pedido-acoes">
                        <button class="btn-ver-pedido" onclick='abrirPedidoAdmin(${JSON.stringify(p).replace(/'/g,"&apos;")})'>VER / ENTREGAR</button>
                    </div>
                </div>`;
            grid.appendChild(div);
        });
    }).catch(err => {
        console.error('Erro carregarPedidos:', err);
        if (grid) grid.innerHTML = '<div style="text-align:center;padding:40px;color:var(--red);">Erro ao carregar. Verifique conex√£o.</div>';
    });
}

function abrirPedidoAdmin(p) {
    pedidoAdminAtual = p;
    document.getElementById('op-prompt').innerText = p.promptTitulo || 'Sem t√≠tulo';
    document.getElementById('op-nome').innerText = p.nome || '-';
    document.getElementById('op-email').innerText = p.email || '-';
    document.getElementById('op-whats').innerText = p.whats || '-';
    document.getElementById('op-entrega').innerText = p.entrega || '-';
    document.getElementById('op-preco').innerText = p.preco || '-';
    document.getElementById('op-data').innerText = p.criadoEmFormatado || (p.criadoEm ? new Date(p.criadoEm).toLocaleString('pt-BR') : '-');
    document.getElementById('op-status').innerText = p.status === 'entregue' ? '‚úÖ Entregue' : '‚è≥ Pendente';
    document.getElementById('op-prompt-completo').innerText = p.promptCompleto || 'Prompt n√£o encontrado.';
    document.getElementById('btn-marcar-entregue').style.display = p.status === 'entregue' ? 'none' : 'block';
    document.getElementById('overlay-pedido').classList.add('show');
}

function fecharOverlayPedido() { document.getElementById('overlay-pedido').classList.remove('show'); }

function copiarPromptAdmin() {
    const texto = document.getElementById('op-prompt-completo').innerText;
    const btn = document.getElementById('btn-copiar-prompt-admin');
    const ok = () => { btn.innerText = '‚úì COPIADO! ENVIE PARA O CLIENTE AGORA.'; btn.classList.add('green'); showToast('PROMPT COPIADO!'); setTimeout(() => { btn.innerText = 'üìã COPIAR PROMPT PARA ENVIAR'; btn.classList.remove('green'); }, 4000); };
    if (navigator.clipboard) navigator.clipboard.writeText(texto).then(ok).catch(() => fallback(texto, ok));
    else fallback(texto, ok);
}

function marcarEntregue() {
    if (!pedidoAdminAtual) return;
    db.ref('promptus_pedidos/' + pedidoAdminAtual.id).update({ status: 'entregue' }).then(() => {
        showToast('PEDIDO MARCADO COMO ENTREGUE!');
        fecharOverlayPedido();
        carregarPedidos();
    }).catch(err => { console.error(err); showToast('ERRO AO ATUALIZAR STATUS.'); });
}

function excluirPedido() {
    if (!pedidoAdminAtual) return;
    if (!confirm('Excluir este pedido definitivamente?')) return;
    db.ref('promptus_pedidos/' + pedidoAdminAtual.id).remove().then(() => {
        showToast('PEDIDO EXCLU√çDO!');
        fecharOverlayPedido();
        carregarPedidos();
    }).catch(err => { console.error(err); showToast('ERRO AO EXCLUIR.'); });
}

function salvarPrompt() {
    const titulo = document.getElementById('f-titulo').value.trim();
    const area = document.getElementById('f-area').value;
    const nivel = document.getElementById('f-nivel').value;
    const tag = document.getElementById('f-tag').value.trim();
    const desc = document.getElementById('f-desc').value.trim();
    const preview = document.getElementById('f-preview').value.trim();
    const prompt = document.getElementById('f-prompt').value.trim();
    const erro = document.getElementById('f-erro');
    if (!titulo || !tag || !desc || !preview || !prompt) { erro.innerText = 'PREENCHA TODOS OS CAMPOS'; return; }
    db.ref('promptus_prompts').push({ titulo, area, nivel, tag, desc, preview, prompt, criadoEm: Date.now() }).then(() => {
        showToast('PROMPT SALVO COM SUCESSO!');
        erro.innerText = '';
        ['f-titulo','f-tag','f-desc','f-preview','f-prompt'].forEach(id => document.getElementById(id).value = '');
        carregarPrompts();
    }).catch(() => { erro.innerText = 'ERRO AO SALVAR.'; });
}

function renderAdminPrompts() {
    const grid = document.getElementById('admin-prompts-grid');
    if (!grid) return;
    if (todosPrompts.length === 0) { grid.innerHTML = '<div class="vazio">Nenhum prompt cadastrado.</div>'; return; }
    grid.innerHTML = '';
    todosPrompts.forEach(p => {
        const areaInfo = AREAS.find(a => a.key === p.area);
        const card = document.createElement('div');
        card.className = 'pcard';
        card.innerHTML = `
            <div class="pcard-top">
                <div class="pcard-area">${areaInfo?.emoji || ''} ${areaInfo?.label || p.area}</div>
                <div class="pcard-titulo">${p.titulo}</div>
                <div class="pcard-desc" style="font-size:11px;">${p.desc}</div>
            </div>
            <div class="pcard-bottom">
                <span class="tag ${NIVEIS_TAG[p.nivel] || ''}">${NIVEIS_LABEL[p.nivel] || ''}</span>
                <span class="pcard-preco">${
